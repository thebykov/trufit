// jQuery Numberic //
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(z($){$.v.t=z(a,b){n(H a===\'16\'){a={C:a}}a=a||{};n(H a.F=="W")a.F=u;q c=(a.C===B)?"":a.C||".";q d=(a.F===u)?u:B;q b=H b=="z"?b:z(){};w s.y("t.C",c).y("t.F",d).y("t.O",b).J($.v.t.J).Q($.v.t.Q).K($.v.t.K)};$.v.t.J=z(e){q a=$.y(s,"t.C");q b=$.y(s,"t.F");q c=e.L?e.L:e.N?e.N:0;n(c==13&&s.18.1e()=="1b"){w u}E n(c==13){w B}q d=B;n((e.A&&c==1i)||(e.A&&c==1m))w u;n((e.A&&c==1p)||(e.A&&c==1t))w u;n((e.A&&c==1v)||(e.A&&c==1x))w u;n((e.A&&c==1z)||(e.A&&c==1a))w u;n((e.A&&c==1g)||(e.A&&c==1o)||(e.1d&&c==X))w u;n(c<1k||c>1r){n(s.x.I("-")!=0&&b&&c==X&&(s.x.G===0||($.v.R(s))===0))w u;n(a&&c==a.Z(0)&&s.x.I(a)!=-1){d=B}n(c!=8&&c!=9&&c!=13&&c!=17&&c!=1s&&c!=1l&&c!=1A&&c!=14){d=B}E{n(H e.L!="W"){n(e.N==e.M&&e.M!=0){d=u;n(e.M==14)d=B}E n(e.N!=0&&e.L===0&&e.M===0){d=u}}}n(a&&c==a.Z(0)){n(s.x.I(a)==-1){d=u}E{d=B}}}E{d=u}w d};$.v.t.Q=z(e){q a=s.x;n(a.G>0){q b=$.v.R(s);q c=$.y(s,"t.C");q d=$.y(s,"t.F");n(c!==""){q f=a.I(c);n(f===0){s.x="0"+a}n(f==1&&a.U(0)=="-"){s.x="-0"+a.D(1)}a=s.x}q g=[0,1,2,3,4,5,6,7,8,9,\'-\',c];q h=a.G;V(q i=h-1;i>=0;i--){q k=a.U(i);n(i!=0&&k=="-"){a=a.D(0,i)+a.D(i+1)}E n(i===0&&!d&&k=="-"){a=a.D(1)}q l=B;V(q j=0;j<g.G;j++){n(k==g[j]){l=u;1h}}n(!l||k==" "){a=a.D(0,i)+a.D(i+1)}}q m=a.I(c);n(m>0){V(q i=h-1;i>m;i--){q k=a.U(i);n(k==c){a=a.D(0,i)+a.D(i+1)}}}s.x=a;$.v.10(s,b)}};$.v.t.K=z(){q a=$.y(s,"t.C");q b=$.y(s,"t.O");q c=s.x;n(c!==""){q d=1w 19("^\\\\d+$|\\\\d*"+a+"\\\\d+");n(!d.1B(c)){b.1F(s)}}};$.v.1n=z(){w s.y("t.C",P).y("t.F",P).y("t.O",P).Y("J",$.v.t.J).Y("K",$.v.t.K)};$.v.R=z(o){n(o.T){q r=1f.1u.1H().1D();r.12(\'S\',o.x.G);n(r.11==\'\')w o.x.G;w o.x.1c(r.11)}E w o.1q};$.v.10=z(o,p){n(H p=="1C")p=[p,p];n(p&&p.1G==1j&&p.G==2){n(o.T){q r=o.T();r.1E(u);r.1J(\'S\',p[0]);r.12(\'S\',p[1]);r.1y()}E n(o.15){o.1I();o.15(p[0],p[1])}}}})(1K);',62,109,'|||||||||||||||||||||||if|||var||this|numeric|true|fn|return|value|data|function|ctrlKey|false|decimal|substring|else|negative|length|typeof|indexOf|keypress|blur|charCode|which|keyCode|callback|null|keyup|getSelectionStart|character|createTextRange|charAt|for|undefined|45|unbind|charCodeAt|setSelection|text|moveEnd||46|setSelectionRange|boolean|35|nodeName|RegExp|90|input|lastIndexOf|shiftKey|toLowerCase|document|118|break|97|Array|48|37|65|removeNumeric|86|120|selectionStart|57|36|88|selection|99|new|67|select|122|39|exec|number|duplicate|collapse|apply|constructor|createRange|focus|moveStart|jQuery'.split('|'),0,{}));

// Color Picker Modded //
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(9($){u j=9(){u g={},2X,1N=26,3e,2l=\'<p M="n"><p M="2t"><p><p></p></p></p><p M="21"><p></p></p><p M="2e"></p><p M="1T"></p><p M="36"><W 12="1b" 1d="6" 18="6" /></p><p M="3l 1k"><W 12="1b" 1d="3" 18="3" /><P></P></p><p M="3p 1k"><W 12="1b" 1d="3" 18="3" /><P></P></p><p M="3r 1k"><W 12="1b" 1d="3" 18="3" /><P></P></p><p M="31 1k"><W 12="1b" 1d="3" 18="3" /><P></P></p><p M="3i 1k"><W 12="1b" 1d="3" 18="3" /><P></P></p><p M="3n 1k"><W 12="1b" 1d="3" 18="3" /><P></P></p><p M="2a"></p></p>\',2B={2p:\'1P\',2i:9(){},2F:9(){},2J:9(){},2x:9(){},2H:9(){},z:\'3a\',1p:1h,1X:Q},15=9(a,b){u c=1t(a);$(b).7(\'n\').L.I(1).D(c.r).Y().I(2).D(c.g).Y().I(3).D(c.b).Y()},1n=9(a,b){$(b).7(\'n\').L.I(4).D(a.h).Y().I(5).D(a.s).Y().I(6).D(a.b).Y()},14=9(a,b){$(b).7(\'n\').L.I(0).D(1a(a)).Y()},1x=9(a,b){$(b).7(\'n\').1V.1c(\'24\',\'#\'+1a({h:a.h,s:K,b:K}));$(b).7(\'n\').28.1c({1E:J(S*a.s/K,10),1f:J(S*(K-a.b)/K,10)})},1u=9(a,b){$(b).7(\'n\').2g.1c(\'1f\',J(S-S*a.h/19,10))},1I=9(a,b){$(b).7(\'n\').2n.1c(\'24\',\'#\'+1a(a))},1z=9(a,b){$(b).7(\'n\').2v.1c(\'24\',\'#\'+1a(a))},2D=9(a){u b=a.2Z||a.3g||-1;q((b>1N&&b<=38)||b==32){A Q}u c=$(k).G().G();q(c.7(\'n\').1p===1h){Z.X(k)}},Z=9(a){u b=$(k).G().G(),O;q(k.17.1r.1i(\'2c\')>0){b.7(\'n\').z=O=1C(2j(k.34))}F q(k.17.1r.1i(\'2z\')>0){b.7(\'n\').z=O=1J({h:J(b.7(\'n\').L.I(4).D(),10),s:J(b.7(\'n\').L.I(5).D(),10),b:J(b.7(\'n\').L.I(6).D(),10)})}F{b.7(\'n\').z=O=1w(2r({r:J(b.7(\'n\').L.I(1).D(),10),g:J(b.7(\'n\').L.I(2).D(),10),b:J(b.7(\'n\').L.I(3).D(),10)}))}q(a){15(O,b.x(0));14(O,b.x(0));1n(O,b.x(0))}1x(O,b.x(0));1u(O,b.x(0));1z(O,b.x(0));b.7(\'n\').2x.X(b,[O,1a(O),1t(O)])},1R=9(a){u b=$(k).G().G();b.7(\'n\').L.G().1G(\'1y\')},1A=9(){1N=k.17.1r.1i(\'2c\')>0?3c:26;$(k).G().G().7(\'n\').L.G().1G(\'1y\');$(k).G().1Z(\'1y\')},27=9(a){u b=$(k).G().R(\'W\').1A();u c={1B:$(k).G().1Z(\'2m\'),N:k.17.1r.1i(\'2Y\')>0?19:(k.17.1r.1i(\'2z\')>0?K:U),y:a.1L,1M:b,D:J(b.D(),10),1e:$(k).G().G().7(\'n\').1p};$(C).H(\'1l\',c,1O);$(C).H(\'1j\',c,1U)},1U=9(a){a.7.1M.D(B.N(0,B.V(a.7.N,J(a.7.D+a.1L-a.7.y,10))));q(a.7.1e){Z.X(a.7.1M.x(0),[1h])}A Q},1O=9(a){Z.X(a.7.1M.x(0),[1h]);a.7.1B.1G(\'2m\').R(\'W\').1A();$(C).13(\'1l\',1O);$(C).13(\'1j\',1U);A Q},2f=9(a){u b={E:$(k).G(),y:$(k).1Q().1f};b.1e=b.E.7(\'n\').1p;$(C).H(\'1l\',b,1Y);$(C).H(\'1j\',b,20)},20=9(a){Z.X(a.7.E.7(\'n\').L.I(4).D(J(19*(S-B.N(0,B.V(S,(a.1L-a.7.y))))/S,10)).x(0),[a.7.1e]);A Q},1Y=9(a){15(a.7.E.7(\'n\').z,a.7.E.x(0));14(a.7.E.7(\'n\').z,a.7.E.x(0));$(C).13(\'1l\',1Y);$(C).13(\'1j\',20);A Q},2u=9(a){u b={E:$(k).G(),22:$(k).1Q()};b.1e=b.E.7(\'n\').1p;$(C).H(\'1l\',b,23);$(C).H(\'1j\',b,25)},25=9(a){Z.X(a.7.E.7(\'n\').L.I(6).D(J(K*(S-B.N(0,B.V(S,(a.1L-a.7.22.1f))))/S,10)).Y().I(5).D(J(K*(B.N(0,B.V(S,(a.33-a.7.22.1E))))/S,10)).x(0),[a.7.1e]);A Q},23=9(a){15(a.7.E.7(\'n\').z,a.7.E.x(0));14(a.7.E.7(\'n\').z,a.7.E.x(0));$(C).13(\'1l\',23);$(C).13(\'1j\',25);A Q},2b=9(a){$(k).1Z(\'1y\')},2O=9(a){$(k).1G(\'1y\')},2C=9(a){u b=$(k).G();u c=b.7(\'n\').z;b.7(\'n\').1F=c;1I(c,b.x(0));b.7(\'n\').2H(c,1a(c),1t(c),b.7(\'n\').1B)},1m=9(a){u b=$(\'#\'+$(k).7(\'11\'));b.7(\'n\').2F.X(k,[b.x(0)]);u c=$(k).1Q();u d=2q();u e=c.1f+k.2R;u f=c.1E;q(e+2K>d.t+d.h){e-=k.2R+2K}q(f+2W>d.l+d.w){f-=2W}b.1c({1E:f+\'2T\',1f:e+\'2T\'});q(b.7(\'n\').2i.X(k,[b.x(0)])!==Q){b.1m()}$(C).H(\'1q\',{E:b},1v);A Q},1v=9(a){q(!2G(a.7.E.x(0),a.37,a.7.E.x(0))){q(a.7.E.7(\'n\').2J.X(k,[a.7.E.x(0)])!==Q){a.7.E.1v()}$(C).13(\'1q\',1v)}},2G=9(a,b,c){q(a==b){A 1h}q(a.2y){A a.2y(b)}q(a.2M){A!!(a.2M(b)&16)}u d=b.17;3b(d&&d!=c){q(d==a){A 1h}d=d.17}A Q},2q=9(){u m=C.3f==\'3j\';A{l:1K.30||(m?C.1D.29:C.1o.29),t:1K.3q||(m?C.1D.2E:C.1o.2E),w:1K.3z||(m?C.1D.2o:C.1o.2o),h:1K.3h||(m?C.1D.2V:C.1o.2V)}},1J=9(a){A{h:B.V(19,B.N(0,a.h)),s:B.V(K,B.N(0,a.s)),b:B.V(K,B.N(0,a.b))}},2r=9(a){A{r:B.V(U,B.N(0,a.r)),g:B.V(U,B.N(0,a.g)),b:B.V(U,B.N(0,a.b))}},2j=9(a){u b=6-a.2P;q(b>0){u o=[];3v(u i=0;i<b;i++){o.2h(\'0\')}o.2h(a);a=o.2L(\'\')}A a},2S=9(a){a=J(((a.1i(\'#\')>-1)?a.39(1):a),16);A{r:a>>16,g:(a&3t)>>8,b:(a&3E)}},1C=9(a){A 1w(2S(a))},1w=9(a){u b={h:0,s:0,b:0};u c=B.V(a.r,a.g,a.b);u d=B.N(a.r,a.g,a.b);u e=d-c;b.b=d;q(d!==0){}b.s=d!==0?U*e/d:0;q(b.s!==0){q(a.r==d){b.h=(a.g-a.b)/e}F q(a.g==d){b.h=2+(a.b-a.r)/e}F{b.h=4+(a.r-a.g)/e}}F{b.h=-1}b.h*=1H;q(b.h<0){b.h+=19}b.s*=K/U;b.b*=K/U;A b},1t=9(a){u b={};u h=B.1g(a.h);u s=B.1g(a.s*U/K);u v=B.1g(a.b*U/K);q(s===0){b.r=b.g=b.b=v}F{u c=v;u d=(U-s)*v/U;u e=(c-d)*(h%1H)/1H;q(h===19)h=0;q(h<1H){b.r=c;b.b=d;b.g=d+e}F q(h<3m){b.g=c;b.b=d;b.r=c-e}F q(h<3x){b.g=c;b.r=d;b.b=d+e}F q(h<3G){b.b=c;b.r=d;b.g=c-e}F q(h<3C){b.b=c;b.g=d;b.r=d+e}F q(h<19){b.r=c;b.g=d;b.b=c-e}F{b.r=0;b.g=0;b.b=0}}A{r:B.1g(b.r),g:B.1g(b.g),b:B.1g(b.b)}},2w=9(c){u d=[c.r.1S(16),c.g.1S(16),c.b.1S(16)];$.1s(d,9(a,b){q(b.2P==1){d[a]=\'0\'+b}});A d.2L(\'\')},1a=9(a){A 2w(1t(a))},2d=9(){u a=$(k).G();u b=a.7(\'n\').1F;a.7(\'n\').z=b;15(b,a.x(0));14(b,a.x(0));1n(b,a.x(0));1x(b,a.x(0));1u(b,a.x(0));1z(b,a.x(0))};A{2I:9(d){d=$.1W({},2B,d||{});q(2Q d.z==\'2U\'){d.z=1C(d.z)}F q(d.z.r!==T&&d.z.g!==T&&d.z.b!==T){d.z=1w(d.z)}F q(d.z.h!==T&&d.z.s!==T&&d.z.b!==T){d.z=1J(d.z)}F{A k}A k.1s(9(){q(!$(k).7(\'11\')){u a=$.1W({},d);a.1F=d.z;u b=\'35\'+J(B.3s()*3A);$(k).7(\'11\',b);u c=$(2l).3k(\'3D\',b);q(a.1X){c.2s(k).1m()}F{c.2s(C.1o)}a.L=c.R(\'W\').H(\'3w\',2D).H(\'Z\',Z).H(\'1R\',1R).H(\'1A\',1A);c.R(\'P\').H(\'1q\',27).Y().R(\'>p.1T\').H(\'1P\',2d);a.1V=c.R(\'p.2t\').H(\'1q\',2u);a.28=a.1V.R(\'p p\');a.1B=k;a.2g=c.R(\'p.21 p\');c.R(\'p.21\').H(\'1q\',2f);a.2v=c.R(\'p.2e\');a.2n=c.R(\'p.1T\');c.7(\'n\',a);c.R(\'p.2a\').H(\'3d\',2b).H(\'3B\',2O).H(\'1P\',2C);15(a.z,c.x(0));1n(a.z,c.x(0));14(a.z,c.x(0));1u(a.z,c.x(0));1x(a.z,c.x(0));1I(a.z,c.x(0));1z(a.z,c.x(0));q(a.1X){c.1c({3J:\'3u\',3L:\'3H\'})}F{$(k).H(a.2p,1m)}}})},2k:9(){A k.1s(9(){q($(k).7(\'11\')){1m.X(k)}})},2A:9(){A k.1s(9(){q($(k).7(\'11\')){$(\'#\'+$(k).7(\'11\')).1v()}})},2N:9(b){q(2Q b==\'2U\'){b=1C(b)}F q(b.r!==T&&b.g!==T&&b.b!==T){b=1w(b)}F q(b.h!==T&&b.s!==T&&b.b!==T){b=1J(b)}F{A k}A k.1s(9(){q($(k).7(\'11\')){u a=$(\'#\'+$(k).7(\'11\'));a.7(\'n\').z=b;a.7(\'n\').1F=b;15(b,a.x(0));1n(b,a.x(0));14(b,a.x(0));1u(b,a.x(0));1x(b,a.x(0));1I(b,a.x(0));1z(b,a.x(0))}})}}}();$.3o.1W({3y:j.2I,3F:j.2A,3I:j.2k,3K:j.2N})})(3M)',62,235,'|||||||data||function|||||||||||this|||colorpicker||div|if||||var|||get||color|return|Math|document|val|cal|else|parent|bind|eq|parseInt|100|fields|class|max|col|span|false|find|150|undefined|255|min|input|apply|end|change||colorpickerId|type|unbind|fillHexFields|fillRGBFields||parentNode|size|360|HSBToHex|text|css|maxlength|preview|top|round|true|indexOf|mousemove|colorpicker_field|mouseup|show|fillHSBFields|body|livePreview|mousedown|className|each|HSBToRGB|setHue|hide|RGBToHSB|setSelector|colorpicker_focus|setNewColor|focus|el|HexToHSB|documentElement|left|origColor|removeClass|60|setCurrentColor|fixHSB|window|pageY|field|charMin|upIncrement|click|offset|blur|toString|colorpicker_current_color|moveIncrement|selector|extend|flat|upHue|addClass|moveHue|colorpicker_hue|pos|upSelector|backgroundColor|moveSelector|65|downIncrement|selectorIndic|scrollLeft|colorpicker_submit|enterSubmit|_hex|restoreOriginal|colorpicker_new_color|downHue|hue|push|onShow|fixHex|showPicker|tpl|colorpicker_slider|currentColor|clientWidth|eventName|getViewport|fixRGB|appendTo|colorpicker_color|downSelector|newColor|RGBToHex|onChange|contains|_hsb|hidePicker|defaults|clickSubmit|keyDown|scrollTop|onBeforeShow|isChildOf|onSubmit|init|onHide|176|join|compareDocumentPosition|setColor|leaveSubmit|length|typeof|offsetHeight|HexToRGB|px|string|clientHeight|356|inAction|_hsb_h|charCode|pageXOffset|colorpicker_hsb_h||pageX|value|collorpicker_|colorpicker_hex|target|90|substring|ff0000|while|70|mouseenter|visible|compatMode|keyCode|innerHeight|colorpicker_hsb_s|CSS1Compat|attr|colorpicker_rgb_r|120|colorpicker_hsb_b|fn|colorpicker_rgb_g|pageYOffset|colorpicker_rgb_b|random|0x00FF00|relative|for|keyup|180|ColorPicker|innerWidth|1000|mouseleave|300|id|0x0000FF|ColorPickerHide|240|block|ColorPickerShow|position|ColorPickerSetColor|display|jQuery'.split('|'),0,{}));

// Autocomplete //
(function(f){var c=["enable","disable","flushCache","trigger","display","close"],b=this,d="autocomplete";var e={ajax:{url:document.URL,type:"POST",dataType:"json",data:{}},cb:{populate:null,cast:null,process:null,preselect:null,select:null,unselect:null},width:"auto",delay:250,name:null,minLength:1,cache:true,once:false,filter:false,source:null,prefix:true,splitChr:null,autohide:false,loop:true,className:d};function g(h){var i;if(f.isArray(h)){i=[];f.each(h,function(j,k){i.push(k)})}else{if(typeof(h)==="object"){i=f.extend(true,{},h)}else{i=h}}return i}function a(q){var r={},j,m,o,i=-1,t=0,s,h={},k=false,n=false,p=this,l={key:function(u){p.key.apply(p,[u])},focusout:function(u){if(!f(this).data(d+"-focus")){p.hide(true)}},dblclick:function(){if(!o){p.updateTOComplete()}}};this.init=function(u){r=f.extend(true,{},e,u);if(typeof(r.source)==="string"){r.source=this.splitData(r.source)}if(u&&(typeof(u)==="object")&&(typeof(u.once)!=="undefined")&&u.once){if(typeof(u.filter)==="undefined"){r.filter=true}}q.attr("autocomplete","off");this.bind()};this.splitData=function(u){if(r.splitChr){return u.split(r.splitChr)}else{return u.split(/\r\n|\r|\n/)}};this.getSource=function(u){if(typeof(u)==="function"){return this.getSource.apply(this,[u.apply(q,[q.val()])])}else{if(typeof(u)==="string"){return this.splitData(u)}}return u};this.flush=function(){h={}};this.bind=function(){if(!k){q[f.browser.opera?"keypress":"keydown"](l.key);q.focusout(l.focusout);q.dblclick(l.dblclick);k=true}};this.unbind=function(){if(k){q.unbind(f.browser.opera?"keypress":"keydown",l.key);q.unbind("focusout",l.focusout);q.unbind("dblclick",l.dblclick);k=false}};this.updateToAutoHide=function(){if(!r.autohide){return}this.stopToAutoHide();m=setTimeout(function(){p.hide(p,[true])},r.autohide)};this.stopToAutoHide=function(){if(m){clearTimeout(m);m=null}};this.updateTOComplete=function(u){var v=this;clearTimeout(j);j=setTimeout(function(){v.complete.apply(v,[])},u?0:r.delay)};this.hover=function(v,u){var w=o?f("li",o).eq(v):null;if(w){w[(u?"add":"remove")+"Class"]("hover");if(u){this.scroll(w)}}};this.scroll=function(u){var x=o.scrollTop(),v=o.innerHeight(),y=u.position().top,w=u.outerHeight();if(y<0){n=true;o.scrollTop(x+y)}else{if(y+w>v){n=true;o.scrollTop(x+y-v+w)}}};this.getPageUpDownItem=function(u){if(!o){return false}var x=o.innerHeight(),v=0,w=i;f("li",o).each(function(A,z){var y=f(z);v+=(y.position().top>=0)&&(y.position().top+y.outerHeight()<=x)?1:0});if(i<0){return(u?t:v)-1}w+=u?-v:v;w=Math.max(0,w);w=Math.min(w,t-1);if(r.loop&&(w==i)){w=w===0?t-1:0}return w};this.key=function(v){var w=v.keyCode,u;if(w===9){}else{if(!o&&(w!==27)&&(w!==13)){this.updateTOComplete()}else{if((w===38)||(w===40)){u=i+(w===38?-1:1);if(r.loop){if(u<0){u=t-1}else{if(u>t-1){u=0}}}u=Math.max(0,u);u=Math.min(u,t-1);this.preselect(u);v.preventDefault()}else{if((w===33)||(w===34)){u=this.getPageUpDownItem(w===33);if(u!==false){this.preselect(u)}v.preventDefault()}else{if(w===13){if(i!==-1){this.select(i,f("li",o).eq(i).text());v.preventDefault();v.stopImmediatePropagation()}else{this.hide(true)}}else{if(w===27){this.preselect(-1);this.hide(true)}else{this.updateTOComplete()}}}}}}};this.data=function(){var v,u="value";if(typeof(r.cb.populate)==="function"){v=f.extend(true,{},r.ajax.data,r.cb.populate.apply(q,[]))}else{v=f.extend(true,{},r.ajax.data);if(r.name&&r.name.length){u=r.name}else{if(q.attr("name")&&q.attr("name").length){u=q.attr("name")}else{if(q.attr("id")&&q.attr("id").length){u=q.attr("id")}}}v[u]=q.val()}return v};this.complete=function(){var u=q.val();if(r.minLength&&(r.minLength>u.length)){if(this.hide(true)){this.preselect(-1)}return}if(r.source){this.completeSource()}else{this.completeAjax()}};this.filterData=function(y,u){var w=new RegExp((r.prefix?"^":"")+q.val().replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),x=[],v;for(v=0;v<y.length;v++){if(w.test(u(y[v]))){x.push(y[v])}}return x};this.completeSource=function(){this.show(this.getSource(r.source),true)};this.completeAjax=function(){var v=this,x=q.val(),u;if(h&&((r.once&&!f.isEmptyObject(h))||(r.cache&&(typeof(h[x])!=="undefined")))){var w=r.once?g(h):g(h[x]);if(typeof(r.cb.process)==="function"){w=r.cb.process.apply(q,[w,r.once?"once":"cache"])}if(typeof(w)==="string"){w=v.splitData(w)}this.show(w,r.filter);return}u=f.extend(true,{},r.ajax);u.success=function(z,A,y){if(r.once){h=g(z)}else{if(r.cache){h[x]=g(z)}}if(typeof(r.cb.process)==="function"){z=r.cb.process.apply(q,[z,A,y])}if(typeof(z)==="string"){z=v.splitData(z)}v.show.apply(v,[z,r.filter])};u.data=this.data();f.ajax(u)};this.preselect=function(u){this.updateToAutoHide();if(i===u){return}this.hover(i,false);i=u;this.hover(i,true);if(typeof(r.cb.preselect)==="function"){r.cb.preselect.apply(q,[i===-1?null:s[i],i])}};this.select=function(u,v){this.stopToAutoHide();if(v===null){v=q.val()}else{q.val(v)}this.hide();if(typeof(r.cb.select)==="function"){r.cb.select.apply(q,[s[u],u])}};this.show=function(z,w){var y=this,v=q.position(),x=f.browser.msie?q.outerWidth():q.width(),u=r.cb.cast||function(A){return A};s=z;this.hide();if(!z||(typeof(z)!=="object")||!z.length){return}if((typeof(w)==="undefined"&&r.filter)||w){z=this.filterData(z,u)}o=f('<ul class="'+r.className+'"></ul>').css("position","absolute").css("left",v.left+"px").css("top",(v.top+q.outerHeight())+"px").scroll(function(){n=false});if(r.width==="auto"){o.css(f.browser.msie?"width":"minWidth",x+"px")}else{if(r.width===false){o.css("width",x+"px").css("overflow","hidden")}else{o.css("width",r.width).css("overflow","hidden")}}i=-1;t=z.length;f.each(z,function(A,C){var D=f("<li></li>"),B=f("<a></a>");B.click(function(){y.select.apply(y,[A,u(C)])});D.hover(function(){if(!n){y.preselect(A)}});o.append(D.append(B.append(u(C))))});o.hover(function(){q.data(d+"-focus",true);y.stopToAutoHide()},function(){q.data(d+"-focus",false);y.updateToAutoHide();if(!q.is(":focus")){q.trigger("focusout")}});q.after(o);if(f.browser.msie){f.each("min max".split(" "),function(B,A){f.each("Width Height".split(" "),function(E,C){var D=parseInt(o.css(A+C));if(!isNaN(D)&&((o[C.toLowerCase()]()<D)^B)){o.css(C.toLowerCase(),D+"px")}})})}this.updateToAutoHide()};this.reverse=function(v){var u=null;f("li",o).each(function(x,w){if((u===null)&&(f(w).text()===v)){u=x}});return u};this.hide=function(v){if(o){if(v){var w=q.val(),u=!w.length||(r.minLength&&(r.minLength>w.length))?null:this.reverse(w);if(u!==null){this.select(u);return}else{if(typeof(r.cb.unselect)==="function"){r.cb.unselect.apply(q,[])}}}this.stopToAutoHide();o.remove();o=null;i=-1;return true}return false};this.isPublic=function(u){for(var v=0;v<c.length;v++){if(c[v]===u){return true}}return false};this.process=function(){var w=[];for(var u=0;u<arguments.length;u++){w.push(arguments[u])}if(w.length&&typeof(w[0])==="string"){var v=w.shift();if(this.isPublic(v)){this[v].apply(this,w)}}else{this.init.apply(this,w)}}}a.prototype.flushCache=function(){this.flush()};a.prototype.enable=function(){this.bind()};a.prototype.disable=function(){this.unbind();this.preselect(-1);this.hide()};a.prototype.trigger=function(){this.updateTOComplete(true)};a.prototype.display=function(h,i){this.show(this.getSource(h),i)};a.prototype.close=function(){this.hide()};f.fn.autocomplete=function(){var h=arguments;f.each(this,function(){var j=f(this),i=j.data(d);if(!i){i=new a(j);j.data(d,i)}i.process.apply(i,h)});return this}}(jQuery));

// LimitKeyPress //
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(6($){$.M.T=6(g){4 h={H:/^[-+]?\\d*\\.?\\d*$/};4 g=$.P(h,g);j 9.10(6(){4 f=g.H;$(9).W(6(){D(9)});$(9).14(6(e){5(e.q=="0"||e.q=="8"||e.q=="13"||e.15||e.12){j}B(9);4 a=R.Y(e.q),F=9.2.l(0,u(9))+a+9.2.l(w(9),9.2.7);5(!f.v(F)){e.N();j}j});6 B(o){4 a=u(o),k=w(o),y="",3="",m=[];z(i=0;i<o.2.7;i++){5(a>i){m[i]=\'A\'}n 5((a<=i)&&(k>i)){m[i]=\'E\'}}z(i=0;i<o.2.7;i++){4 b=i+1;3+=o.2.l(i,b);5((!f.v(3))){4 c=3.7-1;y=3.l(0,c);3=y;5(m[i]==\'A\'){a=a-1;k=k-1}n 5(m[i]==\'E\'){k=k-1}}}o.2=3;p(o,a,k)}6 D(o){4 a="",3="";z(i=0;i<o.2.7;i++){4 b=i+1;3+=o.2.l(i,b);5((!f.v(3))){4 c=3.7-1;a=3.l(0,c);3=a}}o.2=3}6 u(o){5(o.t){4 r=C.I.K().G();r.J(\'s\',o.2.7);5(r.x==\'\')j o.2.7;j o.2.O(r.x)}n j o.S}6 w(o){5(o.t){4 r=C.I.K().G();r.L(\'s\',-o.2.7);j r.x.7}n j o.Q}6 p(a,b,c){5(a.p){a.U();a.p(b,c)}n 5(a.t){4 d=a.t();d.V(X);d.J(\'s\',c);d.L(\'s\',b);d.Z()}}})}})(11);',62,68,'||value|testPlusChar|var|if|function|length||this||||||||||return|endCaretPos|substring|selectionCharInfo|else||setSelectionRange|which||character|createTextRange|getSelectionStart|test|getSelectionEnd|text|temp|for|beforeSelection|sanitizeWithSelection|document|sanitize|inSelection|updatedInput|duplicate|rexp|selection|moveEnd|createRange|moveStart|fn|preventDefault|lastIndexOf|extend|selectionEnd|String|selectionStart|limitkeypress|focus|collapse|blur|true|fromCharCode|select|each|jQuery|altKey||keypress|ctrlKey'.split('|'),0,{}));

// Limit: http://unwrongest.com/projects/limit/ //
(function($){ 
    $.fn.extend({  
        limit: function(limit, element) {
            var interval, f;
            var self = $(this);

            $(this).focus(function(){
                interval = window.setInterval(substring, 100);
            });

            $(this).blur(function(){
                clearInterval(interval);
                substring();
            });

            substringFunction = "function substring(){ var val = $(self).val();var length = val.length;if(length > limit){$(self).val($(self).val().substring(0,limit));}";

            if (typeof element != 'undefined') {
                substringFunction += "if($(element).html() != limit-length){$(element).html((limit-length<=0)?'0':limit-length);}"
            }

            substringFunction += "}";

            eval(substringFunction);

            substring();
        }
    }); 
})(jQuery);

// Masked Input //
(function(a){var b=(a.browser.msie?"paste":"input")+".mask",c=window.orientation!=undefined;a.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn"},a.fn.extend({caret:function(a,b){if(this.length!=0){if(typeof a=="number"){b=typeof b=="number"?b:a;return this.each(function(){if(this.setSelectionRange)this.setSelectionRange(a,b);else if(this.createTextRange){var c=this.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}})}if(this[0].setSelectionRange)a=this[0].selectionStart,b=this[0].selectionEnd;else if(document.selection&&document.selection.createRange){var c=document.selection.createRange();a=0-c.duplicate().moveStart("character",-1e5),b=a+c.text.length}return{begin:a,end:b}}},unmask:function(){return this.trigger("unmask")},mask:function(d,e){if(!d&&this.length>0){var f=a(this[0]);return f.data(a.mask.dataName)()}e=a.extend({placeholder:"_",completed:null},e);var g=a.mask.definitions,h=[],i=d.length,j=null,k=d.length;a.each(d.split(""),function(a,b){b=="?"?(k--,i=a):g[b]?(h.push(new RegExp(g[b])),j==null&&(j=h.length-1)):h.push(null)});return this.trigger("unmask").each(function(){function v(a){var b=f.val(),c=-1;for(var d=0,g=0;d<k;d++)if(h[d]){l[d]=e.placeholder;while(g++<b.length){var m=b.charAt(g-1);if(h[d].test(m)){l[d]=m,c=d;break}}if(g>b.length)break}else l[d]==b.charAt(g)&&d!=i&&(g++,c=d);if(!a&&c+1<i)f.val(""),t(0,k);else if(a||c+1>=i)u(),a||f.val(f.val().substring(0,c+1));return i?d:j}function u(){return f.val(l.join("")).val()}function t(a,b){for(var c=a;c<b&&c<k;c++)h[c]&&(l[c]=e.placeholder)}function s(a){var b=a.which,c=f.caret();if(a.ctrlKey||a.altKey||a.metaKey||b<32)return!0;if(b){c.end-c.begin!=0&&(t(c.begin,c.end),p(c.begin,c.end-1));var d=n(c.begin-1);if(d<k){var g=String.fromCharCode(b);if(h[d].test(g)){q(d),l[d]=g,u();var i=n(d);f.caret(i),e.completed&&i>=k&&e.completed.call(f)}}return!1}}function r(a){var b=a.which;if(b==8||b==46||c&&b==127){var d=f.caret(),e=d.begin,g=d.end;g-e==0&&(e=b!=46?o(e):g=n(e-1),g=b==46?n(g):g),t(e,g),p(e,g-1);return!1}if(b==27){f.val(m),f.caret(0,v());return!1}}function q(a){for(var b=a,c=e.placeholder;b<k;b++)if(h[b]){var d=n(b),f=l[b];l[b]=c;if(d<k&&h[d].test(f))c=f;else break}}function p(a,b){if(!(a<0)){for(var c=a,d=n(b);c<k;c++)if(h[c]){if(d<k&&h[c].test(l[d]))l[c]=l[d],l[d]=e.placeholder;else break;d=n(d)}u(),f.caret(Math.max(j,a))}}function o(a){while(--a>=0&&!h[a]);return a}function n(a){while(++a<=k&&!h[a]);return a}var f=a(this),l=a.map(d.split(""),function(a,b){if(a!="?")return g[a]?e.placeholder:a}),m=f.val();f.data(a.mask.dataName,function(){return a.map(l,function(a,b){return h[b]&&a!=e.placeholder?a:null}).join("")}),f.attr("readonly")||f.one("unmask",function(){f.unbind(".mask").removeData(a.mask.dataName)}).bind("focus.mask",function(){m=f.val();var b=v();u();var c=function(){b==d.length?f.caret(0,b):f.caret(b)};(a.browser.msie?c:function(){setTimeout(c,0)})()}).bind("blur.mask",function(){v(),f.val()!=m&&f.change()}).bind("keydown.mask",r).bind("keypress.mask",s).bind(b,function(){setTimeout(function(){f.caret(v(!0))},0)}),v()})}})})(jQuery);

jQuery(document).ready(function() {
    jQuery.mask.definitions['~'] = '[+-]';
});

jQuery(document).ready(function() {
    jQuery.datepicker._updateDatepicker_original = jQuery.datepicker._updateDatepicker;
    jQuery.datepicker._updateDatepicker = function(inst) {
        jQuery.datepicker._updateDatepicker_original(inst);
        var afterShow = this._get(inst, 'afterShow');

        if (afterShow) {
            afterShow.apply((inst.input ? inst.input[0] : null));
        }
    };
});

// Timepicker 1.1.1 //
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(E($){$.19.I=$.19.I||{};8($.19.I.3T){D}$.1k($.19,{I:{3T:"1.1.1"}});E 3g(){4.4c=[];4.4c[\'\']={6n:\'6Q\',7r:\'7k\',1J:[\'3u\',\'A\'],20:[\'48\',\'P\'],1c:\'3B:3D\',2e:\'\',4C:\'74 4g\',4Q:\'4g\',7n:\'7u\',7y:\'6u\',7p:\'7C\',7E:\'7c\',4J:\'4g 7w\',1Q:L};4.7={6X:Y,1u:L,7m:Y,7t:Y,7A:L,6I:L,3o:L,41:Y,4Y:1,56:1,5n:1,5f:1,K:0,O:0,R:0,M:0,13:F,3y:L,2N:"+27",25:0,1U:0,1L:0,1D:0,2b:23,1Z:59,1Y:59,1y:6T,1m:F,1q:F,2i:F,78:0,7g:0,6E:0,70:0,4U:Y,1X:\' \',3k:Y,2l:F,1N:F,1P:F,2n:F,2R:F,2s:Y,2F:L,2z:F,5b:L,5j:F,2J:\'1f\',3X:F,2V:\'6x\'};$.1k(4.7,4.4c[\'\'])}$.1k(3g.4M,{$17:F,$29:F,$1M:F,1g:F,2v:F,2L:F,2M:F,2H:F,1O:F,K:0,O:0,R:0,M:0,13:F,2N:"+27",3s:F,30:F,2D:F,2k:F,3w:F,2X:F,38:F,3a:F,1o:\'\',2o:\'\',2m:\'\',44:\'\',2z:F,34:[\'K\',\'O\',\'R\',\'M\'],1a:F,6M:E(a){v(4.7,a||{});D 4},52:E(d,o){B e=W 3g(),3i={},1S={},1E,i;1h(B f 2q 4.7){8(4.7.2E(f)){B g=d.6p(\'2P:\'+f);8(g){22{3i[f]=6C(g)}28(1e){3i[f]=g}}}}1E={3V:E(a,b){8($.4a(e.7.2d.3V)){D e.7.2d.3V.1H(d[0],a,b,e)}},43:E(a,b,c){e.2c(c);8($.4a(e.7.2d.43)){e.7.2d.43.1H(d[0],a,b,c,e)}},32:E(a,b){8(e.2x===Y&&d.Q()!==\'\'){e.2c(b)}8($.4a(e.7.2d.32)){e.7.2d.32.1H(d[0],a,b,e)}}};1h(i 2q 1E){8(1E.2E(i)){1S[i]=o[i]||F}}e.7=$.1k({},4.7,3i,o,1E,{2d:1S,I:e});e.1J=$.39(e.7.1J,E(a){D a.1K()});e.20=$.39(e.7.20,E(a){D a.1K()});8(16(e.7.2J)===\'1G\'){8($.2g[e.7.2J]===X){e.7.2J=\'1I\'}e.1a=e.4E[e.7.2J]}G{e.1a=e.7.2J}8(e.7.2z===F){B h=[\'-4S\',\'-58\',\'-5p\',\'-5x\',\'-5F\',\'-5N\',\'-5S\',\'-5U\',\'-4L\',\'-50\',\'-5h\',\'-5t\',\'-5B\',\'-5J\',\'-5R\',\'+27\',\'+5R\',\'+5J\',\'+5B\',\'+5t\',\'+5h\',\'+50\',\'+4L\',\'+6w\',\'+6K\',\'+5U\',\'+6Y\',\'+5S\',\'+5N\',\'+76\',\'+5F\',\'+5x\',\'+5p\',\'+7e\',\'+58\',\'+6S\',\'+4S\',\'+7a\',\'+72\',\'+7i\'];8(e.7.2F){h=$.39(h,E(a){D a==\'+27\'?\'Z\':(a.1n(0,3)+\':\'+a.1n(3))})}e.7.2z=h}e.13=e.7.13;e.K=e.7.K;e.O=e.7.O;e.R=e.7.R;e.M=e.7.M;e.1o=\'\';e.$17=d;8(o.3Z){e.$29=$(o.3Z).26({4H:\'5P\'}).4m(E(){d.5z("4m")})}8(e.7.1w===0||e.7.1m===0){e.7.1w=W U()}8(e.7.1B===0||e.7.1q===0){e.7.1B=W U()}8(e.7.1w!==X&&e.7.1w 2T U){e.7.1m=W U(e.7.1w.1F())}8(e.7.1m!==X&&e.7.1m 2T U){e.7.1w=W U(e.7.1m.1F())}8(e.7.1B!==X&&e.7.1B 2T U){e.7.1q=W U(e.7.1B.1F())}8(e.7.1q!==X&&e.7.1q 2T U){e.7.1B=W U(e.7.1q.1F())}e.$17.6s(\'4m\',E(){e.5d()});D e},4i:E(a){B b=(4.$29&&4.7.3k)?4.$17.Q()+\' \'+4.$29.Q():4.$17.Q();4.2x=4.3m(b);4.36(a,L);4.4W()},3m:E(a,b){8(!4.1g){4.1g=$.C.1r(4.$17[0])}8(b||!4.7.1u){B c=$.C.14(4.1g,\'3e\');22{B d=z(c,4.7.1c,a,$.C.4e(4.1g),4.7);8(!d.1M){D L}$.1k(4,d.1M)}28(1e){$.C.2t("5r 5H 3c 1t/2P 1G: "+1e+"\\4k/2P 1G = "+a+"\\4o = "+4.7.1c+"\\4O = "+c);D L}D Y}G{B e=$.C.46(4.7.1c,a,4.7);8(!e){D L}$.1k(4,e);D Y}},4W:E(){B c=4.1g.5D,o=4.1g.3q,N=4,J=\'\',1W=\'\',V={},2a={},2Y=F;8(c.1p("1s.19-I-1s").1j===0&&o.2s){B d=\' 5l="6z:6O;"\',1A=\'<1s 1C="19-I-1s\'+(o.1Q?\' 19-I-3b\':\'\')+\'"><54>\'+\'<2B 1C="6G"\'+((o.41)?\'\':d)+\'>\'+o.4Q+\'</2B>\'+\'<2I 1C="5L"\'+((o.41)?\'\':d)+\'></2I>\';1h(B i=0,l=4.34.1j;i<l;i++){J=4.34[i];1W=J.2G(0,1).1K()+J.2G(1);V[J]=1l((o[J+\'5v\']-((o[J+\'5v\']-o[J+\'3d\'])%o[\'2K\'+1W])),10);2a[J]=0;1A+=\'<2B 1C="3f\'+J+\'6V"\'+((o[\'3h\'+1W])?\'\':d)+\'>\'+o[J+\'6o\']+\'</2B>\'+\'<2I 1C="3f\'+J+\'"><1s 1C="3f\'+J+\'3M"\'+((o[\'3h\'+1W])?\'\':d)+\'></1s>\';8(o[\'3h\'+1W]&&o[J+\'2O\']>0){1A+=\'<1s 5l="7l-83: 7V"><3I 1C="19-6R-7Z-4D"><57>\';8(J==\'K\'){1h(B h=o[J+\'3d\'];h<=V[J];h+=1l(o[J+\'2O\'],10)){2a[J]++;B g=$.C.2f(w(o.2n||o.1c)?\'7K\':\'3B\',{K:h},o);1A+=\'<35 1v-1h="\'+J+\'">\'+g+\'</35>\'}}G{1h(B m=o[J+\'3d\'];m<=V[J];m+=1l(o[J+\'2O\'],10)){2a[J]++;1A+=\'<35 1v-1h="\'+J+\'">\'+((m<10)?\'0\':\'\')+m+\'</35>\'}}1A+=\'</57></3I></1s>\'}1A+=\'</2I>\'}1A+=\'<2B 1C="6B"\'+((o.3o)?\'\':d)+\'>\'+o.4J+\'</2B>\';1A+=\'<2I 1C="4R" \'+((o.3o)?\'\':d)+\'></2I>\';1A+=\'</54></1s>\';B j=$(1A);8(o.1u===Y){j.7z(\'<1s 1C="19-7X-5o 19-75-81 19-87-8b">\'+\'<1s 1C="19-C-7R">\'+o.4C+\'</1s>\'+\'</1s>\');c.1p(\'.19-C-5o, .19-C-89\').85()}1h(B i=0,l=N.34.1j;i<l;i++){J=N.34[i];1W=J.2G(0,1).1K()+J.2G(1);N[J+\'3M\']=N.1a.3x(N,j.1p(\'.3f\'+J+\'3M\'),J,N[J],o[J+\'3d\'],V[J],o[\'2K\'+1W]);8(o[\'3h\'+1W]&&o[J+\'2O\']>0){2Y=4K*2a[J]*o[J+\'2O\']/(V[J]-o[J+\'3d\']);j.1p(\'.3f\'+J+\' 3I\').26({3U:2Y+"%",3p:o.1Q?\'0\':((2Y/(-2*2a[J]))+"%"),3Q:o.1Q?((2Y/(-2*2a[J]))+"%"):\'0\',6v:\'7s\'}).1p("35").5g(E(e){B a=$(4),h=a.1A(),n=1l(h.1d(/[^0-9]/g),10),3K=h.1d(/[^4Z]/7N),f=a.1v(\'1h\');8(f==\'K\'){8(3K.1R(\'p\')!==-1&&n<12){n+=12}G{8(3K.1R(\'a\')!==-1&&n===12){n=0}}}N.1a.18(N,N[f+\'3M\'],J,n);N.21();N.3E()}).26({4H:\'5P\',3U:(4K/2a[J])+\'%\',6J:\'7d\',7G:\'7T\'})}}4.1O=j.1p(\'.4R\').42(\'<1I></1I>\').1p("1I");$.2g.42.2p(4.1O,$.39(o.2z,E(a,b){D $("<31 />").Q(16 a=="1V"?a.18:a).49(16 a=="1V"?a.4D:a)}));8(16(4.13)!="X"&&4.13!==F&&4.13!==""){B k=W U(4.1g.3O,4.1g.3R,4.1g.3S,12);B p=$.I.3l(k);8(p==4.13){A(N)}G{4.1O.Q(4.13)}}G{8(16(4.K)!="X"&&4.K!==F&&4.K!==""){4.1O.Q(o.2N)}G{A(N)}}4.1O.3Y(E(){N.7.3y=L;N.21()});B q=c.1p(\'.19-C-6r\');8(q.1j){q.6U(j)}G{c.42(j)}4.$1M=j.1p(\'.5L\');8(4.1g!==F){B r=4.2x;4.21();4.2x=r}8(4.7.5b){B s=4.7.5j,3b=4.7.1Q;s.1Q=3b;7o(E(){8(j.1p(\'.19-1f-4G\').1j===0){j.1p(\'.19-1f:5A\').6F(s);B b=j.1p(\'.19-1f-4G:79(0)\').5c(Y);8(b){j.1p(\'3I:5A\').2S(E(){B a=$(4),4l=a.5c(),5Q=a.26(3b?\'3Q\':\'3p\').1T().1d(\'%\',\'\'),4d=4l-b,4V=((5Q*4d)/4l)+\'%\',26={3U:4d,3Q:0,3p:0};26[3b?\'3Q\':\'3p\']=4V;a.26(26)})}}},10)}}},36:E(a,b){B o=4.7,2Z=W U(a.3O,a.3R,a.3S);8(!4.7.2s){D}8($.C.14(a,\'1m\')!==F&&$.C.14(a,\'1m\')!==X&&2Z){B c=$.C.14(a,\'1m\'),5I=W U(c.63(),c.5Y(),c.2y(),0,0,0,0);8(4.3s===F||4.30===F||4.2D===F||4.2k===F){4.3s=o.25;4.30=o.1U;4.2D=o.1L;4.2k=o.1D}8(a.3q.1u||5I.1F()==2Z.1F()){4.7.25=c.3A();8(4.K<=4.7.25){4.K=4.7.25;4.7.1U=c.3L();8(4.O<=4.7.1U){4.O=4.7.1U;4.7.1L=c.3N();8(4.R<=4.7.1L){4.R=4.7.1L;4.7.1D=c.3P()}G{8(4.M<4.7.1D){4.M=4.7.1D}4.7.1D=4.2k}}G{4.7.1L=4.2D;4.7.1D=4.2k}}G{4.7.1U=4.30;4.7.1L=4.2D;4.7.1D=4.2k}}G{4.7.25=4.3s;4.7.1U=4.30;4.7.1L=4.2D;4.7.1D=4.2k}}8($.C.14(a,\'1q\')!==F&&$.C.14(a,\'1q\')!==X&&2Z){B d=$.C.14(a,\'1q\'),5s=W U(d.63(),d.5Y(),d.2y(),0,0,0,0);8(4.3w===F||4.2X===F||4.38===F){4.3w=o.2b;4.2X=o.1Z;4.38=o.1Y;4.3a=o.1y}8(a.3q.1u||5s.1F()==2Z.1F()){4.7.2b=d.3A();8(4.K>=4.7.2b){4.K=4.7.2b;4.7.1Z=d.3L();8(4.O>=4.7.1Z){4.O=4.7.1Z;4.7.1Y=d.3N()}G 8(4.R>=4.7.1Y){4.R=4.7.1Y;4.7.1y=d.3P()}G{8(4.M>4.7.1y){4.M=4.7.1y}4.7.1y=4.3a}}G{4.7.1Z=4.2X;4.7.1Y=4.38;4.7.1y=4.3a}}G{4.7.2b=4.3w;4.7.1Z=4.2X;4.7.1Y=4.38;4.7.1y=4.3a}}8(b!==X&&b===Y){B e=1l((4.7.2b-((4.7.2b-4.7.25)%4.7.4Y)),10),61=1l((4.7.1Z-((4.7.1Z-4.7.1U)%4.7.56)),10),5W=1l((4.7.1Y-((4.7.1Y-4.7.1L)%4.7.5n)),10),1y=1l((4.7.1y-((4.7.1y-4.7.1D)%4.7.5f)),10);8(4.2v){4.1a.2j(4,4.2v,\'K\',{1x:4.7.25,V:e});4.1a.18(4,4.2v,\'K\',4.K)}8(4.2L){4.1a.2j(4,4.2L,\'O\',{1x:4.7.1U,V:61});4.1a.18(4,4.2L,\'O\',4.O)}8(4.2M){4.1a.2j(4,4.2M,\'R\',{1x:4.7.1L,V:5W});4.1a.18(4,4.2M,\'R\',4.R)}8(4.2H){4.1a.2j(4,4.2H,\'M\',{1x:4.7.1D,V:1y});4.1a.18(4,4.2H,\'M\',4.M)}}},21:E(){B a=(4.2v)?4.1a.18(4,4.2v,\'K\'):L,O=(4.2L)?4.1a.18(4,4.2L,\'O\'):L,R=(4.2M)?4.1a.18(4,4.2M,\'R\'):L,M=(4.2H)?4.1a.18(4,4.2H,\'M\'):L,13=(4.1O)?4.1O.Q():L,o=4.7,2n=o.2n||o.1c,2R=o.2R||o.2e;8(16(a)==\'1V\'){a=L}8(16(O)==\'1V\'){O=L}8(16(R)==\'1V\'){R=L}8(16(M)==\'1V\'){M=L}8(16(13)==\'1V\'){13=L}8(a!==L){a=1l(a,10)}8(O!==L){O=1l(O,10)}8(R!==L){R=1l(R,10)}8(M!==L){M=1l(M,10)}B b=o[a<12?\'1J\':\'20\'][0];B c=(a!=4.K||O!=4.O||R!=4.R||M!=4.M||(4.1o.1j>0&&(a<12)!=($.4N(4.1o.1K(),4.1J)!==-1))||((4.13===F&&13!=4.2N)||(4.13!==F&&13!=4.13)));8(c){8(a!==L){4.K=a}8(O!==L){4.O=O}8(R!==L){4.R=R}8(M!==L){4.M=M}8(13!==L){4.13=13}8(!4.1g){4.1g=$.C.1r(4.$17[0])}4.36(4.1g,Y)}8(w(o.1c)){4.1o=b}4.2m=$.C.2f(o.1c,4,o);8(4.$1M){8(2n===o.1c){4.$1M.49(4.2m+2R)}G{4.$1M.49($.C.2f(2n,4,o)+2R)}}4.2x=Y;8(c){4.2c()}},3E:E(){B a=4.7.2i||4.1g.3q.2i;B b=4.$17?4.$17[0]:F;8(a&&b){a.2p(b,[4.44,4])}},2c:E(a){a=4.1g||a;B b=$.C.6y(W U(a.3O,a.3R,a.3S)),5T=$.C.14(a,\'3e\'),2W=$.C.4e(a),5E=b!==F&&4.2x;4.2o=$.C.3t(5T,(b===F?W U():b),2W);B c=4.2o;8(4.7.1u===Y){c=4.2m}G 8(4.7.1u!==Y&&(4.7.4U||5E)){c+=4.7.1X+4.2m+4.7.2e}4.44=c;8(!4.7.2s){4.$17.Q(4.2o)}G 8(4.$29&&4.7.3k===Y){4.$29.Q(4.2m);4.$17.Q(4.2o)}G 8(4.$29){4.$17.Q(c);B d=\'\',1N=4.7.1N?4.7.1N:4.7.1X,1P=4.7.1P?4.7.1P:4.7.2e;8(4.7.37)d=$.C.3t(4.7.37,(b===F?W U():b),2W);G d=4.2o;8(d)d+=1N;8(4.7.2l)d+=$.C.2f(4.7.2l,4,4.7)+1P;G d+=4.2m+1P;4.$29.Q(d)}G{4.$17.Q(c)}4.$17.5z("3Y")},5d:E(){8(!4.$17.Q()&&4.7.3X){4.$17.Q(4.7.3X);B a=$.C.1r(4.$17.45(0)),N=$.C.14(a,\'I\');8(N){8(N.7.1u&&(a.17.Q()!=a.4p)){22{$.C.2w(a)}28(1e){$.C.2t(1e)}}}}},4E:{1f:{3x:E(c,d,e,f,g,h,i){B j=c.7.1Q;D d.1z(\'5k\',F).1f({71:"7v",18:j?f*-1:f,1x:j?h*-1:g,V:j?g*-1:h,2K:i,5k:E(a,b){c.1a.18(c,$(4),e,j?b.18*-1:b.18);c.21()},7I:E(a,b){c.3E()}})},2j:E(a,b,c,d,e){8(a.7.1Q){8(16(d)==\'1G\'){8(d==\'1x\'||d==\'V\'){8(e!==X)D b.1f(d,e*-1);D 53.5w(b.1f(d))}D b.1f(d)}B f=d.1x,V=d.V;d.1x=d.V=F;8(f!==X)d.V=f*-1;8(V!==X)d.1x=V*-1;D b.1f(d)}8(16(d)==\'1G\'&&e!==X)D b.1f(d,e);D b.1f(d)},18:E(a,b,c,d){8(a.7.1Q){8(d!==X)D b.1f(\'18\',d*-1);D 53.5w(b.1f(\'18\'))}8(d!==X)D b.1f(\'18\',d);D b.1f(\'18\')}},1I:{3x:E(a,b,c,d,f,g,h){B j=\'<1I 1C="19-I-1I" 1v-5M="\'+c+\'" 1v-1x="\'+f+\'" 1v-V="\'+g+\'" 1v-2K="\'+h+\'">\',6N=a.7.1c.1R(\'t\')!==-1?\'33\':\'1K\',m=0;1h(B i=f;i<=g;i+=h){j+=\'<31 18="\'+i+\'"\'+(i==d?\' 2A\':\'\')+\'>\';8(c==\'K\'&&w(a.7.2n||a.7.1c))j+=$.C.2f("4h 4r",{K:i},a.7);G 8(c==\'M\'||i>=10)j+=i;G j+=\'0\'+i.1T();j+=\'</31>\'}j+=\'</1I>\';b.4v(\'1I\').7h();$(j).7L(b).3Y(E(e){a.21();a.3E()});D b},2j:E(a,b,c,d,e){B o={},$t=b.4v(\'1I\');8(16(d)==\'1G\'){8(e===X)D $t.1v(d);o[d]=e}G o=d;D a.1a.3x(a,b,$t.1v(\'5M\'),$t.Q(),o.1x||$t.1v(\'1x\'),o.V||$t.1v(\'V\'),o.2K||$t.1v(\'2K\'))},18:E(a,b,c,d){B e=b.4v(\'1I\');8(d!==X)D e.Q(d);D e.Q()}}}});$.2g.1k({I:E(o){o=o||{};B a=7D.4M.2C.1H(4t);8(16 o==\'1V\'){a[0]=$.1k(o,{1u:Y})}D $(4).2S(E(){$.2g.3G.2p($(4),a)})},3G:E(o){o=o||{};B b=4t;8(16(o)==\'1G\'){8(o==\'2y\'){D $.2g.C.2p($(4[0]),b)}G{D 4.2S(E(){B a=$(4);a.C.2p(a,b)})}}G{D 4.2S(E(){B a=$(4);a.C($.I.52(a,o).7)})}}});$.C.7P=E(a,b,c,d,e){B f=z(a,b,c,d,e);8(f.1M){B t=f.1M;f.1t.3W(t.K,t.O,t.R,t.M)}D f.1t};$.C.46=E(l,n,p){B o=v(v({},$.I.7),p||{});B q=E(f,s,o){B e=E(b,c){B d=[];8(b){$.4F(d,b)}8(c){$.4F(d,c)}d=$.39(d,E(a){D a.1d(/[.*+?|()\\[\\]{}\\\\]/g,\'\\\\$&\')});D\'(\'+d.2r(\'|\')+\')?\'};B g=E(a){B b=a.33().5q(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z|\'.*?\')/g),3j={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1};8(b){1h(B i=0;i<b.1j;i++){8(3j[b[i].1T().2Q(0)]==-1){3j[b[i].1T().2Q(0)]=i+1}}}D 3j};B h=\'^\'+f.1T().1d(/([6q]{1,2}|3D?|4x?|[4q]{1,2}|[5a]|\'.*?\')/g,E(a){4A(a.2Q(0).33()){15\'h\':D\'(\\\\d?\\\\d)\';15\'m\':D\'(\\\\d?\\\\d)\';15\'s\':D\'(\\\\d?\\\\d)\';15\'l\':D\'(\\\\d?\\\\d?\\\\d)\';15\'z\':D\'(z|[-+]\\\\d\\\\d:?\\\\d\\\\d|\\\\S+)?\';15\'t\':D e(o.1J,o.20);5G:D\'(\'+a.1d(/\\\'/g,"").1d(/(\\.|\\$|\\^|\\\\|\\/|\\(|\\)|\\[|\\]|\\?|\\+|\\*)/g,E(m){D"\\\\"+m})+\')?\'}}).1d(/\\s/g,\'\\\\s?\')+o.2e+\'$\',1b=g(f),1o=\'\',1i;1i=s.5q(W 6D(h,\'i\'));B j={K:0,O:0,R:0,M:0};8(1i){8(1b.t!==-1){8(1i[1b.t]===X||1i[1b.t].1j===0){1o=\'\';j.1o=\'\'}G{1o=$.4N(1i[1b.t].1K(),o.1J)!==-1?\'3u\':\'48\';j.1o=o[1o==\'3u\'?\'1J\':\'20\'][0]}}8(1b.h!==-1){8(1o==\'3u\'&&1i[1b.h]==\'12\'){j.K=0}G{8(1o==\'48\'&&1i[1b.h]!=\'12\'){j.K=1l(1i[1b.h],10)+12}G{j.K=3z(1i[1b.h])}}}8(1b.m!==-1){j.O=3z(1i[1b.m])}8(1b.s!==-1){j.R=3z(1i[1b.s])}8(1b.l!==-1){j.M=3z(1i[1b.l])}8(1b.z!==-1&&1i[1b.z]!==X){B k=1i[1b.z].1K();4A(k.1j){15 1:k=o.2F?\'Z\':\'+27\';4b;15 5:8(o.2F){k=k.1n(1)==\'27\'?\'Z\':k.1n(0,3)+\':\'+k.1n(3)}4b;15 6:8(!o.2F){k=k==\'Z\'||k.1n(1)==\'2U:2U\'?\'+27\':k.1d(/:/,\'\')}G{8(k.1n(1)==\'2U:2U\'){k=\'Z\'}}4b}j.13=k}D j}D L};B r=E(f,s,o){22{B d=W U(\'80-4T-4T \'+s);D{K:d.3A(),3F:d.3L(),77:d.3N(),M:d.3P(),13:$.I.3l(d)}}28(1e){22{D q(f,s,o)}28(7S){$.C.2t("8e 7B 2V \\8i: "+s+"\\4o: "+f)}}D L};8(16 o.2V==="E"){D o.2V(l,n,o)}8(o.2V===\'88\'){D r(l,n,o)}D q(l,n,o)};$.C.2f=E(b,c,d){d=d||{};d=$.1k({},$.I.7,d);c=$.1k({K:0,O:0,R:0,M:0,13:\'+27\'},c);B e=b,2u=d.1J[0],K=1l(c.K,10);8(K>11){2u=d.20[0]}e=e.1d(/(?:3B?|4h?|3D?|4x?|[4q]{1,2}|[5a]|(\'.*?\'|".*?"))/g,E(a){4A(a){15\'3B\':D(\'0\'+K).2C(-2);15\'H\':D K;15\'4h\':D(\'0\'+x(K)).2C(-2);15\'h\':D x(K);15\'3D\':D(\'0\'+c.O).2C(-2);15\'m\':D c.O;15\'4x\':D(\'0\'+c.R).2C(-2);15\'s\':D c.R;15\'l\':D(\'2U\'+c.M).2C(-3);15\'z\':D c.13===F?d.2N:c.13;15\'T\':D 2u.2Q(0).1K();15\'4r\':D 2u.1K();15\'t\':D 2u.2Q(0).33();15\'5O\':D 2u.33();5G:D a.1d(/\\\'/g,"")||"\'"}});e=$.4u(e);D e};$.C.4B=$.C.66;$.C.66=E(a,b){B c=4.1r($(a)[0]),N=4.14(c,\'I\');8(N){N.36(c,Y);c.5i=c.3r=Y;4.4B(a,b);c.5i=c.3r=L;4.6Z(c);4.2w(c)}G{4.4B(a,b)}};$.C.69=$.C.2w;$.C.2w=E(a){B b=a.17[0];8($.C.5Z&&$.C.5Z!=a&&$.C.7O&&$.C.84!=b){D}8(16(a.3r)!==\'8g\'||a.3r===L){4.69(a);B c=4.14(a,\'I\');8(c){c.4i(a);8(c.7.3y){B d=W U(a.3O,a.3R,a.3S,12);A(c,d);c.21()}}}};$.C.51=$.C.68;$.C.68=E(a){B b=$.C.1r(a.6d),N=$.C.14(b,\'I\');8(N){8($.C.14(b,\'6L\')){B c=w(N.7.1c),4j=$.C.7H($.C.14(b,\'3e\')),5V=N.7.1c.1T().1d(/[8c]/g,\'\').1d(/4r/g,c?\'7f\':\'\').1d(/8o/g,c?\'5y\':\'\').1d(/4q/g,c?\'5y\':\'\').1d(/T/g,c?\'8k\':\'\').1d(/5O/g,c?\'4Z\':\'\').1d(/t/g,c?\'3K\':\'\')+" "+N.7.1X+N.7.2e+(N.7.3o?N.7.2z.2r(\'\'):\'\')+(N.7.1J.2r(\'\'))+(N.7.20.2r(\'\'))+4j,4z=64.7W(a.6b===X?a.8m:a.6b);D a.6t||(4z<\' \'||!4j||5V.1R(4z)>-1)}}D $.C.51(a)};$.C.4I=$.C.6a;$.C.6a=E(a){B b=4.14(a,\'I\');8(b){B c=b.7.3Z;8(c){B d=b.7.37||b.7.3e,1t=4.6j(a),2W=$.C.4e(a),2h=\'\',1N=b.7.1N?b.7.1N:b.7.1X,1P=b.7.1P?b.7.1P:b.7.2e,2l=b.7.2l!==F?b.7.2l:b.7.1c;2h+=$.C.2f(2l,b,b.7)+1P;8(!b.7.1u&&!b.7.3k){8(b.7.37)2h=$.C.3t(b.7.37,(1t===F?W U():1t),2W)+1N+2h;G 2h=b.2o+1N+2h}$(c).Q(2h)}}G{$.C.4I(a)}};$.C.5K=$.C.6g;$.C.6g=E(a){B b=$.C.1r(a.6d),N=$.C.14(b,\'I\');8(N){8(N.7.1u&&(b.17.Q()!=b.4p)){22{$.C.2w(b)}28(1e){$.C.2t(1e)}}}D $.C.5K(a)};$.C.6l=$.C.5e;$.C.5e=E(a){B b=4.1r($(a)[0]),$6e=b.5D;4.6l(a);B c=4.14(b,\'I\');A(c);B d=W U();4.40(b,d);$(\'.19-C-6W\',$6e).5g()};$.C.7q=E(a){B b=4.1r(a);8(!b){D}B c=4.14(b,\'I\');$(a).C(\'2y\');8(c){c.7.2s=L;c.2c(b)}};$.C.7F=E(a){B b=4.1r(a);8(!b){D}B c=4.14(b,\'I\');$(a).C(\'2y\');8(c){c.7.2s=Y;c.4i(b);c.2c(b)}};$.C.40=E(a,b){B c=4.14(a,\'I\');8(c){B d=c.7;c.K=b?b.3A():d.K;c.O=b?b.3L():d.O;c.R=b?b.3N():d.R;c.M=b?b.3P():d.M;c.36(a,Y);c.21();c.2c(a)}};$.C.65=E(a,b,c){B d=4.1r(a);8(!d){D}B e=4.14(d,\'I\');8(e){4.6i(d);B f;8(b){8(16 b=="1G"){e.3m(b,c);f=W U();f.3W(e.K,e.O,e.R,e.M)}G{f=W U(b.1F())}8(f.1T()==\'6H U\'){f=X}4.40(d,f)}}};$.C.4X=$.C.6c;$.C.6c=E(a,b){B c=4.1r(a);8(!c){D}B d=(b 2T U)?W U(b.1F()):b;4.2w(c);4.4X.2p(4,4t);4.65(a,d,Y)};$.C.6k=$.C.5X;$.C.5X=E(a,b){B c=4.1r(a);8(!c){D}B d=4.14(c,\'I\');8(d){8(c.4p===X){4.6i(c,b)}B e=4.6j(c);8(e&&d.3m($(a).Q(),d.1u)){e.3W(d.K,d.O,d.R,d.M)}D e}D 4.6k(a,b)};$.C.3n=$.C.6h;$.C.6h=E(a,b,c){B d;22{d=4.3n(a,b,c)}28(1e){d=4.3n(a,b.1n(0,b.1j-(1e.1j-1e.1R(\':\')-2)),c);$.C.2t("5r 5H 3c 1t 1G: "+1e+"\\4k 1G = "+b+"\\4k 3J = "+a)}D d};$.C.5u=$.C.6m;$.C.6m=E(a,b,c,d){B e=4.14(a,\'I\');8(e){e.2c(a);D e.$17.Q()}D 4.5u(a)};$.C.4f=$.C.6f;$.C.6f=E(a,b,c){B d=4.1r(a),24;8(!d){D F}B e=4.14(d,\'I\');8(e){B f=F,V=F,3C=F,1E=e.7.2d,1S={},1z;8(16 b==\'1G\'){8(b===\'1w\'||b===\'1m\'){f=c}G 8(b===\'1B\'||b===\'1q\'){V=c}G 8(b===\'2i\'){3C=c}G 8(1E.2E(b)){8(16(c)===\'X\'){D 1E[b]}1S[b]=c;24={}}}G 8(16 b==\'1V\'){8(b.1w){f=b.1w}G 8(b.1m){f=b.1m}G 8(b.1B){V=b.1B}G 8(b.1q){V=b.1q}1h(1z 2q 1E){8(1E.2E(1z)&&b[1z]){1S[1z]=b[1z]}}}1h(1z 2q 1S){8(1S.2E(1z)){1E[1z]=1S[1z];8(!24){24=$.1k({},b)}7b 24[1z]}}8(24&&u(24)){D}8(f){8(f===0){f=W U()}G{f=W U(f)}e.7.1w=f;e.7.1m=f}G 8(V){8(V===0){V=W U()}G{V=W U(V)}e.7.1B=V;e.7.1q=V}G 8(3C){e.7.2i=3C}}8(c===X){D 4.4f.1H($.C,a,b)}D 4.4f.1H($.C,a,24||b,c)};B u=E(a){B b;1h(b 2q a){8(a.2E(a)){D L}}D Y};B v=E(a,b){$.1k(a,b);1h(B c 2q b){8(b[c]===F||b[c]===X){a[c]=b[c]}}D a};B w=E(a){D(a.1R(\'t\')!==-1&&a.1R(\'h\')!==-1)};B x=E(a){8(a>12){a=a-12}8(a==0){a=12}D 64(a)};B y=E(a,b,c,d){22{B e=d&&d.1X?d.1X:$.I.7.1X,3J=d&&d.1c?d.1c:$.I.7.1c,4P=3J.47(e),4y=4P.1j,3v=b.47(e),4s=3v.1j;8(4s>1){D[3v.5m(0,4s-4y).2r(e),3v.5m(0,4y).2r(e)]}}28(1e){$.C.2t(\'6A 73 47 3c 1t 7x 3c 2P. 7M 7U 3c 82 3G 2j\'+"\\8a 8f: "+1e+"\\8j"+b+"\\4O = "+a+"\\8n = "+d.1X+"\\4o = "+d.1c);8(1e.1R(":")>=0){B f=b.1j-(1e.1j-1e.1R(\':\')-2),6P=b.1n(f);D[$.4u(b.1n(0,f)),$.4u(b.1n(f))]}G{55 1e;}}D[b,\'\']};B z=E(a,b,c,d,e){B f;B g=y(a,c,d,e);f=$.C.3n(a,g[0],d);8(g[1]!==\'\'){B h=g[1],4n=$.C.46(b,h,e);8(4n===F){55\'7Y 2P 3J\';}D{1t:f,1M:4n}}G{D{1t:f}}};B A=E(a,b){8(a&&a.1O){a.7.3y=Y;B c=16 b!==\'X\'?b:W U();B d=$.I.3l(c);8(a.7.2F){d=d.1n(0,3)+\':\'+d.1n(3)}a.1O.Q(d)}};$.I=W 3g();$.I.3l=E(a){B b=a.7J()*-1,3F=b%60,62=(b-3F)/60;D(b>=0?\'+\':\'-\')+(\'0\'+(62*67).1T()).2G(-2)+(\'0\'+(3F*67).1T()).2G(-2)};$.I.7j=E(a,b,c){D $.I.4w(\'I\',a,b,c)};$.I.86=E(a,b,c){$.I.5C(a,b,c,\'3G\')};$.I.5C=E(a,b,c,d){d=d||\'C\';$.I.4w(d,a,b,c)};$.I.4w=E(e,f,g,h){$.2g[e].1H(f,$.1k({32:E(a,b){3H(4,g,a)},2i:E(a){2A(4,g,\'1w\')}},h,h.7Q));$.2g[e].1H(g,$.1k({32:E(a,b){3H(4,f,a)},2i:E(a){2A(4,f,\'1B\')}},h,h.8d));8(e!=\'I\'&&h.8h){$([f,g]).2S(E(){B a=$(4)[e].1H($(4),\'31\',\'3e\'),1t=W U($(4).Q());8($(4).Q()&&1t){$(4).Q($.C.3t(a,1t))}})}3H(f,g,f.Q());E 3H(a,b,c){8(b.Q()&&(W U(f.Q())>W U(g.Q()))){b.Q(c)}}2A(f,g,\'1w\');2A(g,f,\'1B\');E 2A(a,b,c){8(!$(a).Q()){D}B d=$(a)[e].1H($(a),\'2y\');8(d.1F){$(b)[e].1H($(b),\'31\',c,d)}}D $([f.45(0),g.45(0)])};$.I.3T="1.1.1"})(8l);',62,521,'||||this|||_defaults|if|||||||||||||||||||||||||||||var|datepicker|return|function|null|else||timepicker|litem|hour|false|millisec|tp_inst|minute||val|second|||Date|max|new|undefined|true|||||timezone|_get|case|typeof|input|value|ui|control|order|timeFormat|replace|err|slider|inst|for|treg|length|extend|parseInt|minDateTime|substring|ampm|find|maxDateTime|_getInst|div|date|timeOnly|data|minDate|min|millisecMax|prop|html|maxDate|class|millisecMin|overrides|getTime|string|call|select|amNames|toUpperCase|secondMin|timeObj|altSeparator|timezone_select|altTimeSuffix|isRTL|indexOf|fns|toString|minuteMin|object|uitem|separator|secondMax|minuteMax|pmNames|_onTimeChange|try||name_clone|hourMin|css|0000|catch|altInput|gridSize|hourMax|_updateDateTime|evnts|timeSuffix|formatTime|fn|altFormattedDateTime|onSelect|options|millisecMinOriginal|altTimeFormat|formattedTime|pickerTimeFormat|formattedDate|apply|in|join|showTimepicker|log|ampmName|hour_slider|_updateDatepicker|timeDefined|getDate|timezoneList|selected|dt|slice|secondMinOriginal|hasOwnProperty|timezoneIso8601|substr|millisec_slider|dd|controlType|step|minute_slider|second_slider|defaultTimezone|Grid|time|charAt|pickerTimeSuffix|each|instanceof|00|parse|formatCfg|minuteMaxOriginal|size|dp_date|minuteMinOriginal|option|onClose|toLowerCase|units|td|_limitMinMaxDateTime|altFormat|secondMaxOriginal|map|millisecMaxOriginal|rtl|the|Min|dateFormat|ui_tpicker_|Timepicker|show|inlineSettings|orders|altFieldTimeOnly|timeZoneOffsetString|_parseTime|_base_parseDate|showTimezone|marginLeft|settings|stay_open|hourMinOriginal|formatDate|AM|allParts|hourMaxOriginal|create|useLocalTimezone|Number|getHours|HH|onselect|mm|_onSelectHandler|minutes|datetimepicker|checkDates|table|format|ap|getMinutes|_slider|getSeconds|selectedYear|getMilliseconds|marginRight|selectedMonth|selectedDay|version|width|beforeShow|setHours|defaultValue|change|altField|_setTime|showTime|append|onChangeMonthYear|formattedDateTime|get|parseTime|split|PM|text|isFunction|break|regional|newWidth|_getFormatConfig|_base_optionDatepicker|Time|hh|_addTimePicker|dateChars|ndate|oldWidth|focus|parsedTime|ntimeFormat|lastVal|tT|TT|allPartsLen|arguments|trim|children|handleRange|ss|timePartsLen|chr|switch|_base_selectDate|timeOnlyTitle|label|_controls|merge|access|cursor|_base_updateAlternate|timezoneText|100|0500|prototype|inArray|ndateFormat|timeParts|timeText|ui_tpicker_timezone|1200|01|alwaysSetTime|newMarginLeft|_injectTimePicker|_base_setDateDatepicker|stepHour|apm|0430|_base_doKeyPress|_newInst|Math|dl|throw|stepMinute|tr|1100||lz|addSliderAccess|outerWidth|_onFocus|_gotoToday|stepMillisec|click|0400|inline|sliderAccessArgs|slide|style|splice|stepSecond|header|1000|match|Error|maxDateTimeDate|0330|_base_formatDate|Max|abs|0930|AaPpMm|trigger|visible|0300|dateRange|dpDiv|timeAvailable|0900|default|parsing|minDateTimeDate|0200|_base_doKeyUp|ui_tpicker_time|unit|0800|tt|pointer|oldMarginLeft|0100|0700|dateFmt|0600|datetimeChars|secMax|_getDateDatepicker|getMonth|_curInst||minMax|hours|getFullYear|String|_setTimeDatepicker|_selectDate|101|_doKeyPress|_base_updateDatepicker|_updateAlternate|charCode|_setDateDatepicker|target|dp|_optionDatepicker|_doKeyUp|parseDate|_setDateFromField|_getDate|_base_getDateDatepicker|_base_gotoToday|_formatDate|currentText|Text|attr|hH|buttonpane|bind|ctrlKey|Minute|borderCollapse|0530|strict|_daylightSavingAdjust|display|Could|ui_tpicker_timezone_label|eval|RegExp|secondGrid|sliderAccess|ui_tpicker_time_label|Invalid|showMillisec|textAlign|0545|constrainInput|setDefaults|ul|none|timeString|Now|tpicker|1130|999|before|_label|today|showButtonPanel|0630|_notifyChange|millisecGrid|orientation|1300|not|Choose|helper|0845|seconds|hourGrid|eq|1245|delete|Millisecond|center|1030|APM|minuteGrid|remove|1400|timeRange|Done|padding|showHour|hourText|setTimeout|secondText|_disableTimepickerDatepicker|closeText|collapse|showMinute|Hour|horizontal|Zone|from|minuteText|prepend|showSecond|to|Second|Array|millisecText|_enableTimepickerDatepicker|overflow|_possibleChars|stop|getTimezoneOffset|hht|appendTo|Please|ig|_datepickerShowing|parseDateTime|start|title|err2|hidden|check|1px|fromCharCode|widget|Wrong|grid|2012|clearfix|following|left|_lastInput|hide|dateTimeRange|corner|loose|calendar|nthrown|all|hms|end|Unable|error|boolean|reformat|ntimeString|ndateTimeString|AP|jQuery|keyCode|nseparator|Tt'.split('|'),0,{}));

/*jslint regexp: true, nomen: true, undef: true, sloppy: true, eqeq: true, vars: true, white: true, plusplus: true, maxerr: 50, indent: 4 */
var gdtt_form_mediaupload_field = "";
var gdtt_form_mediaupload_function = null;

function gdtt_check_taxonomy() {
    if (jQuery("#txOriginalText").val() !== "") {
        jQuery("#linktax_panel #ttstatus").addClass("loading");
        jQuery.getJSON(ajaxurl, {
            action: 'gd_cpt_tinymce_check',
            tax: jQuery("#txTaxonomy").val(),
            term: jQuery("#txOriginalText").val(),
            autocreate: jQuery("#txAutoCheck").is(":checked") ? '1' : '0'},
            function(json) {
                jQuery("#linktax_panel #ttstatus").removeClass("loading");
                gdtt_taxonomy_loading(json);
            }
        );
    }
}

function gdtt_search_taxonomy() {
    if (jQuery("#txOriginalText").val() !== "") {
        jQuery("#linktax_panel #ttstatus").addClass("loading");
        jQuery.getJSON(ajaxurl, {
            action: 'gd_cpt_tinymce_search',
            tax: jQuery("#txTaxonomy").val(),
            term: jQuery("#txOriginalText").val(),
            limit: jQuery("#txSearchLimit").val(),
            autocreate: jQuery("#txAutoCheck").is(":checked") ? '1' : '0'},
            function(json) {
                jQuery("#linktax_panel #ttstatus").removeClass("loading");
                gdtt_taxonomy_loading(json);
            }
        );
    }
}

function gdtt_add_taxonomy() {
    if (jQuery("#txOriginalText").val() !== "") {
        jQuery("#linktax_panel #ttstatus").addClass("loading");
        jQuery.getJSON(ajaxurl, { 
            action: 'gd_cpt_tinymce_check', 
            tax: jQuery("#txTaxonomy").val(), 
            term: jQuery("#txOriginalText").val(), 
            create: '1'}, 
            function(json) {
                jQuery("#linktax_panel #ttstatus").removeClass("loading");
                gdtt_taxonomy_loading(json);
            }
        );
    }
}

function gdtt_taxonomy_loading(json) {
    var id = '#term' + json.result;

    jQuery("#termok").addClass("tthide");
    jQuery("#termoptions").addClass("tthide");
    jQuery("#termfound").addClass("tthide");
    jQuery("#termnotfound").addClass("tthide");
    jQuery("#gdtt-tinymce-insert").css("display", "none");

    if (json.result === "ok") {
        jQuery("#addsmode").val('check');
        jQuery("#taxonomy").val(json.taxonomy);

        jQuery("#termname").html(json.termname);
        jQuery("#termslug").html(json.termslug);
        jQuery("#termperm").html(json.permalink);
        jQuery("#gdtt-tinymce-insert").css("display", "block");
        jQuery("#termoptions").removeClass("tthide");
    } else if (json.result === "found") {
        jQuery("#addsmode").val('search');
        jQuery("#taxonomy").val(json.taxonomy);

        gdtt_show_found_terms(json.terms);
        jQuery("#termoptions").removeClass("tthide");
        jQuery("#gdtt-tinymce-insert").css("display", "block");
    }

    jQuery(id).removeClass("tthide");
}

function gdtt_show_found_terms(input) {
    searchResults = input;
    var terms = [];
    var i;
    for (i = 0; i < input.length; i++) {
        terms[i] = '<a id="fotr' + i +'" class="txsrterm" href="javascript:gdtt_sel_term(' + i +')">' + input[i].termname + '</a>';
    }
    jQuery("#foundterms").html(terms.join(", "));

    jQuery("#fotr0").addClass('selected');
    jQuery("#searchid").val(0);
}

function gdtt_sel_term(i) {
    jQuery(".txsrterm").removeClass('selected');
    jQuery("#fotr" + i).addClass('selected');
    jQuery("#searchid").val(i);
}

function gdtt_add_tax_term(id, term) {
    if (gdtt_tax_hierarchy[id] == 0) {
        parent.jQuery("#new-tag-" + id).val(term);
        parent.jQuery("#new-tag-" + id).next().click();
    } else {
        parent.jQuery("#" + id + "-add").show();
        parent.jQuery("#new" + id).val(term);
        parent.jQuery("#" + id + "-add-submit").click();
        parent.jQuery("#" + id + "-add").hide();
    }
}

function gdtt_insertTermBack() {
    var term = '';
    var perm = '';
    var slug = '';

    if (jQuery("#addsmode").val() === "search") {
        var i = jQuery("#searchid").val();
        term = searchResults[i].termname;
        perm = searchResults[i].permalink;
        slug = searchResults[i].termslug;
    } else if (jQuery("#addsmode").val() === "check") {
        term = jQuery("#termname").html();
        perm = jQuery("#termperm").html();
        slug = jQuery("#termslug").html();
    }

    var sel = jQuery("#txCntReplace").is(":checked") ? term : tinyMCEPopup.editor.selection.getContent({format : 'text'});
    if (jQuery("#txAddTerm").is(":checked")) {
        gdtt_add_tax_term(jQuery("#taxonomy").val(), term);
    }
    if (jQuery("#txCntHref").is(":checked")) {
        if (jQuery("#txUseShortcode").is(":checked")) {
            sel = "[termlink tax='" + jQuery("#txTaxonomy").val() + "' term='" + slug + "']" + sel + "[/termlink]";
        } else {
            sel = '<a href="' + perm + '">' + sel + '</a>';
        }
    }

    tinyMCEPopup.editor.execCommand('mceReplaceContent', false, sel);
    tinyMCEPopup.editor.execCommand('mceRepaint');
    tinyMCEPopup.close();
}

var gdCPTMeta = {
    tmp: {
      picker_id: '',
      datepicker_wrapped: false,
      tinymce: {
          
      },
      tagger: {
          done: {},
          list: {},
          apis: {}
      },
      shortcoder: {
          code: 'cpt_field',
          field: '',
          type: ''
      }
    },
    shortcoder: {
        init: function() {
            jQuery(document).on("click", ".gdtt-ui-button span.ui-icon-script", function(){
                gdCPTMeta.tmp.shortcoder.code = jQuery(this).attr("gdtt-shortcode");
                gdCPTMeta.tmp.shortcoder.field = jQuery(this).attr("gdtt-field");
                gdCPTMeta.tmp.shortcoder.type = jQuery(this).attr("gdtt-type");

                gdCPTMeta.shortcoder.build();

                jQuery(".gdtt-shortcode-elements").html('...');
                jQuery("#gdcpt-build-shortcode .gdcpt-button-update .gdtt-loader").show();

                jQuery("#gdcpt-build-shortcode").wpdialog({
                    width: 620,
                    height: 490 + (gdttMetas.wp_version > 38 ? 20 : 0),
                    modal: true,
                    dialogClass: 'wp-dialog',
                    zIndex: 300000
                });

                jQuery.ajax({
                    success: function(html) {
                        jQuery(".gdtt-shortcode-elements").html(html);
                        jQuery("#gdcpt-build-shortcode .gdcpt-button-update .gdtt-loader").hide();
                        
                        jQuery(".gdcpt-sh-number").numeric({negative: false, decimal: false});
                        jQuery(".gdtt-shortcode-elements input, .gdtt-shortcode-elements select").change(gdCPTMeta.shortcoder.build);

                        gdCPTMeta.shortcoder.build();
                    },
                    dataType: "html", data: {field: gdCPTMeta.tmp.shortcoder.type},
                    type: "POST", url: "admin-ajax.php?action=gd_cpt_meta_shortcodes&_ajax_nonce=" + gdttMetas.nonce
                });
            });

            jQuery(document).on("click", ".gdtt-close-shortcoder-dialog", function(e){
                e.preventDefault();

                jQuery("#gdcpt-build-shortcode").wpdialog("close");
            });

            jQuery(document).on("click", "#gdtt-shortcoder-insert", function(e){
                e.preventDefault();

                var shortcode = jQuery("#gdcpt-shortcode").html();
                
                if (gdttMetas.wp_version > 38) {
                    tinymce.get("content").execCommand("mceInsertContent", false, shortcode);
                } else {
                    tinymce.execInstanceCommand("content", "mceInsertContent", false, shortcode);
                }

                jQuery("#gdcpt-build-shortcode").wpdialog("close");
            });
        },
        build: function() {
            var field = '[' + gdCPTMeta.tmp.shortcoder.code + ' code="' + gdCPTMeta.tmp.shortcoder.field + '"';

            jQuery(".gdtt-shortcode-elements input, .gdtt-shortcode-elements select").each(function(){
                var attr = jQuery(this).attr("gdctp-code");
                var defl = jQuery(this).attr("gdcpt-attr");
                var vale = jQuery(this).val();

                if (defl !== vale) {
                    field+= ' ' + attr + '="' + vale + '"';
                }
            });

            field+= ']';

            jQuery("#gdcpt-shortcode").html(field);
        }
    },
    tagger: {
        init: function() {
            jQuery(".gdtt-term-limited").change(function() {
                var tax = jQuery(this).attr("gdtt-taxonomy");
                var terms = [];

                jQuery(".gdtt-taxonomy-" + tax + ":checked").each(function(index) {
                    terms[terms.length] = jQuery(this).val();
                });
                jQuery("#gdtt_tax_input_" + tax).val(terms.join(", "));
            });

            jQuery(".tagsdiv").each(function() {
                var id = jQuery(this).attr("id");

                gdCPTMeta.tmp.tagger.done[id] = false;
                gdCPTMeta.tmp.tagger.list[id] = [];
                gdCPTMeta.tmp.tagger.apis[id] = [];

                if (gdttMetas.clear_tags == 1) {
                    jQuery(this).next(".hide-if-no-js").append(' | <a class="gdcpt-tagger-clear-tags" gdcpt-id="' + id + '" href="#">' + gdttMetas.clear_all + '</a>');
                }

                if (gdttMetas.suggest_active > 0) {
                    var suggest_append = "<br/>" + gdttMetas.suggest + ":<br/>";
                    var suggests = [];

                    if (gdttMetas.suggest_internal == 1) {
                        suggests.push('<a class="gdcpt-tagger-engine" gdcpt-id="' + id + '" gdcpt-engine="internal" href="#">' + gdttMetas.internal + '</a>');
                    }

                    if (gdttMetas.suggest_yahoo == 1) {
                        suggests.push('<a class="gdcpt-tagger-engine" gdcpt-id="' + id + '" gdcpt-engine="yahoo" href="#">Yahoo</a>');
                    }

                    if (gdttMetas.suggest_alchemy == 1) {
                        suggests.push('<a class="gdcpt-tagger-engine" gdcpt-id="' + id + '" gdcpt-engine="alchemy" href="#">Alchemy</a>');
                    }

                    if (gdttMetas.suggest_opencalais == 1) {
                        suggests.push('<a class="gdcpt-tagger-engine" gdcpt-id="' + id + '" gdcpt-engine="opencalais" href="#">OpenCalais</a>');
                    }

                    if (gdttMetas.suggest_zemanta == 1) {
                        suggests.push('<a class="gdcpt-tagger-engine" gdcpt-id="' + id + '" gdcpt-engine="zemanta" href="#">Zemanta</a>');
                    }

                    jQuery(this).next(".hide-if-no-js").append(suggest_append + suggests.join(" | "));
                }

                jQuery(this).next(".hide-if-no-js").after('<div class="gdtt-yahoo-block" id="gdttyhsgs-' + id + '"></div>');
            });

            jQuery(document).on("click", ".gdcpt-tagger-clear-tags", function(e){
                e.preventDefault();

                var id = jQuery(this).attr("gdcpt-id");

                var ids = [];
                var i;

                jQuery("#" + id + " .tagchecklist .ntdelbutton").each(function() {
                    ids[ids.length] = jQuery(this).attr("id");
                });

                for (i = 0; i < ids.length; i++) {
                    jQuery("#" + ids[ids.length - i - 1]).click();
                }
            });

            jQuery(document).on("click", ".gdcpt-tagger-close", function(e){
                e.preventDefault();

                var id = jQuery(this).attr("gdcpt-id");

                jQuery("#gdttyhsgs-" + id).hide();
            });

            jQuery(document).on("click", ".gdcpt-tagger-load", function(e){
                e.preventDefault();

                var id = jQuery(this).attr("gdcpt-id");

                gdCPTMeta.tagger.load(id);
            });

            jQuery(document).on("click", ".gdcpt-tagger-addall", function(e){
                e.preventDefault();

                var id = jQuery(this).attr("gdcpt-id");
                var tagsid = "textarea#tax-input-" + id + ".the-tags";
                var tags = jQuery(tagsid).val();
                var i;

                for (i = 0; i < gdCPTMeta.tmp.tagger.list[id].length; i++) {
                    tags+= "," + gdCPTMeta.tmp.tagger.list[id][i];
                }

                jQuery(tagsid).val(tags);
                var taxbox = jQuery("#tagsdiv-" + id + " .tagsdiv");

                tagBox.quickClicks(taxbox);
            });

            jQuery(document).on("click", ".gdcpt-tagger-engine", function(e){
                e.preventDefault();

                var id = jQuery(this).attr("gdcpt-id");
                var api = jQuery(this).attr("gdcpt-engine");

                var divid = "gdttyhsgs-" + id;
                var run = gdCPTMeta.tmp.tagger.apis[id] !== api;
                gdCPTMeta.tmp.tagger.apis[id] = api;

                if (run) {
                    gdCPTMeta.tmp.tagger.done[id] = false;
                    gdCPTMeta.tmp.tagger.list[id] = [];
                    jQuery("#" + divid).html("");
                }

                if (!gdCPTMeta.tmp.tagger.done[id]) {
                    jQuery("#" + divid).append('<div class="gdtt-yahoo-loader">' + gdttMetas.getting_tags + '</div>');
                    jQuery("#" + divid).append('<div class="gdtt-yahoo-tags"></div>');
                    jQuery("#" + divid).append('<div class="gdtt-yahoo-tasks"></div>');
                    jQuery("#" + divid + ' .gdtt-yahoo-tasks').append('<a class="gdcpt-tagger-close" gdcpt-id="' + id + '" href="#">' + gdttMetas.close + '</a>');
                    jQuery("#" + divid + ' .gdtt-yahoo-tasks').append(' | <a gdcpt-id="' + id + '" class="gdcpt-tagger-load" href="#">' + gdttMetas.refresh + '</a>');
                    jQuery("#" + divid + ' .gdtt-yahoo-tasks').append(' | <a gdcpt-id="' + id + '" class="gdcpt-tagger-addall" href="#">' + gdttMetas.add_all + '</a>');
                    gdCPTMeta.tmp.tagger.done[id] = true;
                }

                jQuery("#" + divid).show();

                if (gdCPTMeta.tmp.tagger.list[id].length == 0) {
                    gdCPTMeta.tagger.load(id);
                }
            });
        },
        click: function(id, tag) {
            var tagsid = "textarea#tax-input-" + id + ".the-tags";
            var tags = jQuery(tagsid).val();
            tags+= "," + tag;
            jQuery(tagsid).val(tags);
            var taxbox = jQuery("#tagsdiv-" + id + " .tagsdiv");
            tagBox.quickClicks(taxbox);
        },
        load: function(id) {
            var divid = "gdttyhsgs-" + id;

            jQuery.ajax({type: 'post', dataType: 'json',
                url: 'admin-ajax.php?action=gdtt_meta_search_tags&_ajax_nonce=' + gdttMetas.nonce,
                data: {
                    content: jQuery("#content").val(), 
                    title: jQuery("#title").val(), 
                    api: gdCPTMeta.tmp.tagger.apis[id]
                },
                beforeSend: function() {
                    jQuery("#" + divid + " .gdtt-yahoo-loader").show();
                    jQuery("#" + divid + " .gdtt-yahoo-tags").hide();
                    jQuery("#" + divid + " .gdtt-yahoo-tasks").hide();
                },
                success: function(json) {
                    if (json.tags) {
                        gdCPTMeta.tmp.tagger.list[id] = json.tags;
                    }

                    jQuery("#" + divid + " .gdtt-yahoo-tags").html('');

                    if (gdCPTMeta.tmp.tagger.list[id].length == 0) {
                        jQuery("#" + divid + " .gdtt-yahoo-tags").html(gdttMetas.no_tags_found);
                    } else {
                        var i;

                        for (i = 0; i < gdCPTMeta.tmp.tagger.list[id].length; i++) {
                            var tag = '<a class="gdtt-tag-button" href="#">' + gdCPTMeta.tmp.tagger.list[id][i] + '</a> ';
                            jQuery("#" + divid + " .gdtt-yahoo-tags").append(tag);
                        }
                    }

                    jQuery("#" + divid + " .gdtt-yahoo-loader").hide();
                    jQuery("#" + divid + " .gdtt-yahoo-tags").show();
                    jQuery("#" + divid + " .gdtt-yahoo-tasks").show();

                    jQuery("#" + divid + " .gdtt-yahoo-tags a").click(function() {
                        var clicked = jQuery(this).html();
                        gdCPTMeta.tagger.click(id, clicked);
                        return false;
                    });
                }
            });
        }
    },
    tinymce: {
        init: function() {
            jQuery("#gdtt-tinymce-insert").css("display", "none");
            jQuery("#gdtt-tinymce-insert").click(function(){
                gdtt_insertTermBack();
                return false;
            });

            jQuery("#gdtt-tinymce-cancel a").click(function(){
                tinyMCEPopup.close();
            });

            jQuery("#gdtt-internal-toggle").click(function(){
                if (jQuery(this).hasClass("toggle-arrow-on")) {
                    jQuery(this).removeClass("toggle-arrow-on");
                    jQuery("#setting_panel").slideUp();
                } else {
                    jQuery(this).addClass("toggle-arrow-on");
                    jQuery("#setting_panel").slideDown();
                }
            });
        }
    },
    chosen: {
        init: function() {
            if (jQuery().chosen) {
                if (gdttMetas.chosen_select == 1) {
                    jQuery(".gdtt-field-select.gdtt-chosen-select").chosen({allow_single_deselect: true});
                }
                if (gdttMetas.chosen_multi == 1) {
                    jQuery(".gdtt-field-select.gdtt-chosen-multi").chosen({allow_single_deselect: true});
                }
            }
        }
    },
    meta: {
        init: function() {
            gdCPTMeta.meta.datetime();
            gdCPTMeta.meta.colorpicker();
            gdCPTMeta.meta.limiters();
            gdCPTMeta.meta.various();
        },
        datetime: function() {
            jQuery(document).on("click", ".gdtt-field-date", function(){
                jQuery(this).datepicker({
                    yearRange: "c-100:c+100"
                });

                gdCPTMeta.wrap_datepicker();
                jQuery(this).datepicker("show");
            });

            jQuery(document).on("click", ".gdtt-field-month", function(){
                jQuery(this).datepicker({
                    yearRange: "c-100:c+100",
                    changeMonth: true,
                    changeYear: true,
                    showButtonPanel: true,
                    dateFormat: 'MM yy',
                    onClose: function(dateText, inst) { 
                        var month = jQuery("#ui-datepicker-div .ui-datepicker-month :selected").val();
                        var year = jQuery("#ui-datepicker-div .ui-datepicker-year :selected").val();
                        jQuery(this).datepicker('setDate', new Date(year, month, 1));
                        jQuery(".ui-datepicker-calendar").show();
                    },
                    beforeShow: function(input, inst) {
                        if ((datestr = jQuery(this).val()).length > 0) {
                            year = datestr.substring(datestr.length-4, datestr.length);
                            month = jQuery.inArray(datestr.substring(0, datestr.length-5), jQuery(this).datepicker('option', 'monthNames'));
                            jQuery(this).datepicker('option', 'defaultDate', new Date(year, month, 1));
                            jQuery(this).datepicker('setDate', new Date(year, month, 1));
                        }
                    },
                    afterShow: function() {
                        jQuery(".ui-datepicker-calendar").hide();
                    }
                });

                gdCPTMeta.wrap_datepicker();
                jQuery(this).datepicker("show");
            });

            jQuery(document).on("click", ".gdtt-field-time", function(){
                jQuery(this).timepicker({
                    showSecond: true,
                    timeFormat: "HH:mm:ss"
                });

                gdCPTMeta.wrap_datepicker();
                jQuery(this).datepicker("show");
            });

            jQuery(document).on("click", ".gdtt-field-datetime", function(){
                jQuery(this).datetimepicker({
                    showSecond: true,
                    timeFormat: "HH:mm:ss"
                });

                gdCPTMeta.wrap_datepicker();
                jQuery(this).datepicker("show");
            });
        },
        colorpicker: function() {
            jQuery(".colorSelector").ColorPicker({
                onBeforeShow: function() {
                    var id = jQuery(this).next("input").attr("id");
                    gdCPTMeta.tmp.picker_id = id.substr(0, id.length - 6);
                    jQuery(this).ColorPickerSetColor(jQuery(this).next("input").val());
                },
                onShow: function(cpc) {
                    jQuery(cpc).fadeIn(500);
                    return false;
                },
                onHide: function(cpc) {
                    jQuery(cpc).fadeOut(500);
                    return false;
                },
                onChange: function(hsb, hex, rgb) {
                    var id = gdCPTMeta.tmp.picker_id;
                    jQuery("#" + id + "_div div").css('backgroundColor', '#' + hex);
                    jQuery("#" + id + "_input").val(hex);
                }
            });

            jQuery(".gdtt-field-colorpicker").each(function(idx){
                gdCPTMeta.change_colors(this);
            });

            jQuery(".gdtt-field-colorpicker").change(function(){
                gdCPTMeta.change_colors(this);
            });
        },
        limiters: function() {
            jQuery(".gdtt-limit-field").each(function(idx){
                var id = jQuery(this).attr("id");
                var limiter = parseInt(jQuery("#" + id + "_limiter").html());

                jQuery("#" + id).limit(limiter, "#" + id + "_counter");
            });
        },
        various: function() {
            jQuery(".gdtt-field-button").button();
            jQuery(".gdtt-field-number").numeric();
            jQuery(".gdtt-field-currency").numeric();
            jQuery(".gdtt-field-int").numeric({negative: false, decimal: false});

            jQuery(".gdtt-field-colorpicker").limitkeypress({rexp: /^[a-f0-9]*$/});

            jQuery(".gdtt-mb-holder").each(function(){
                jQuery(this).find(".gdtt-cf-block:last").addClass("gdtt-no-line");
            });

            jQuery(document).on("click", ".gdtt-ui-button span.ui-icon-image", function(){
                var gdtt_id = jQuery(this).attr("gdtt-id");
                var url = jQuery("#" + gdtt_id + '_url').val().trim();

                if (url !== "") {
                    tb_show(gdttMetas.preview_title, gdttMetas.preview_url + "?img=" + encodeURIComponent(url) + "&TB_iframe=true");
                }
            });

            jQuery(document).on("click", ".gdtt-ui-button span.ui-icon-folder-open", function(){
                gdtt_form_mediaupload_field = jQuery(this).attr('gdtt-id');
                gdtt_form_mediaupload_function = window.send_to_editor;
                tb_show(gdttMetas.select_title, "media-upload.php?type=image&amp;TB_iframe=true");

                window.send_to_editor = function(html) {
                    var i, imgprv, imgtag;
                    var imgid = '';
                    var block = jQuery("<div>" + html + "</div>");

                    imgtag = block.find("img");
                    imgprv = imgtag.attr("src");

                    var classes = imgtag.attr("class").split(" ");
                    for (i = 0; i < classes.length; i++) {
                        if (classes[i].substr(0, 9) === "wp-image-") {
                            imgid = parseInt(classes[i].substr(9));
                            break;
                        }
                    }

                    jQuery("#" + gdtt_form_mediaupload_field + "_url").val(imgprv);
                    jQuery("#" + gdtt_form_mediaupload_field + "_id").val(imgid);

                    tb_remove();
                    window.send_to_editor = gdtt_form_mediaupload_function;
                };

                return false;
            });

            jQuery(document).on("click", ".gdtt-ui-button span.ui-icon-contact", function(){
                var field = jQuery(this).attr("gdtt-field");
                var shortcode = '[cpt_field code="' + field + '" image="img"' + ']';
                
                if (gdttMetas.wp_version > 38) {
                    tinymce.get("content").execCommand("mceInsertContent", false, shortcode);
                } else {
                    tinymce.execInstanceCommand("content", "mceInsertContent", false, shortcode);
                }
            });

            jQuery(document).on("click", ".gdtt-ui-button-repeater span.ui-icon-plus", function(){
                var field = jQuery(this).parent().parent().parent().clone();
                var id = jQuery(this).parent().parent().parent().parent().attr("id");
                id = id.substr(0, id.length - 7);
                var counter = parseInt(jQuery("#" + id + "_counter").val());
                jQuery("#" + id + "_counter").val(counter + 1);

                field.css("marginTop", "2px");
                field.find(".gdtt-repeater-plus").hide();
                field.find(".gdtt-repeater-minus").show();

                field.find("input, select, textarea").each(function(){
                    if (jQuery(this).attr("name")) {
                        jQuery(this).attr("name", jQuery(this).attr("name").replace("[0]", "[" + counter + "]"));
                        jQuery(this).attr("id", jQuery(this).attr("id").replace("_0", "_" + counter));
                    }

                    if (jQuery(this).attr("gdtt-reset")) {
                        jQuery(this).val(jQuery.trim(jQuery(this).attr("gdtt-reset")));
                    }
                });

                field.fadeIn('slow');
                jQuery(this).parent().parent().parent().parent().append(field);
            });

            jQuery(document).on("click", ".gdtt-ui-button-repeater span.ui-icon-minus", function(){
                jQuery(this).parent().parent().parent().fadeOut('slow', function(){ jQuery(this).remove(); });
            });
        }
    },
    meta_groups: {
        init: function() {
            jQuery(document).on("click", ".gdtt-mb-group ul.wp-tab-bar li a", function(e){
                e.preventDefault();

                if (!jQuery(this).parent().hasClass("wp-tab-active")) {
                    var id = jQuery(this).attr("href");

                    jQuery(this).parent().parent().children().removeClass("wp-tab-active");
                    jQuery(this).parent().addClass("wp-tab-active");

                    jQuery(this).parent().parent().parent().children("div.wp-tab-panel").hide();
                    jQuery(id).show();
                }
            });
        }
    },
    wrap_datepicker: function() {
        if (!gdCPTMeta.tmp.datepicker_wrapped) {
            jQuery('#ui-datepicker-div').wrap('<div class="gdtt-mb-holder"></div>');
            gdCPTMeta.tmp.datepicker_wrapped = true;
        }
    },
    change_colors: function(obj) {
        var id = jQuery(obj).attr("id");
        id = id.substr(0, id.length - 6);
        jQuery("#" + id + "_div div").css("backgroundColor", "#" + jQuery(obj).val());
    },
    gmap: function(id, data) {
        jQuery("#" + id).gmap3(
            {action:'init', options:{ streetViewControl: data.streetview, zoom: data.zoom, center:[data.latitude, data.longitude]}},
            gdCPTMeta.gmap_add_marker([data.latitude, data.longitude], id)
        );

        jQuery(document).on("click", "#" + id + "_look", function(e){
            e.preventDefault();

            jQuery("#" + id).gmap3({
                action:'getLatLng',
                address:jQuery("#" + id + "_search").val(),
                callback: function(item) {
                    if (item[0]) {
                        var location = item[0].geometry.location;
                        jQuery("#" + id + '_latitude').val(location.lat());
                        jQuery("#" + id + '_longitude').val(location.lng());
                        jQuery("#" + id).gmap3(
                            {action:'clear', name:'marker'},
                            gdCPTMeta.gmap_add_marker(location, id)
                        );
                    }
                }
            });
        });

        jQuery("#" + id + "_search").autocomplete({
            source: function() {
                jQuery("#" + id).gmap3({
                    action:'getAddress',
                    address: jQuery(this).val(),
                    callback: function(results) {
                        if (!results) { return; }
                        jQuery("#" + id + "_search").autocomplete('display', results, false);
                    }
                });
            },
            cb: {
                cast: function(item){
                    return item.formatted_address;
                },
                select: function(item) {
                    var location = item.geometry.location;
                    jQuery("#" + id + '_latitude').val(location.lat());
                    jQuery("#" + id + '_longitude').val(location.lng());
                    jQuery("#" + id).gmap3(
                        {action:'clear', name:'marker'},
                        gdCPTMeta.gmap_add_marker(location, id)
                    );
                }
            }
        });
    },
    gmap_add_marker: function(location, id) {
        return {action:'addMarker',
                latLng:location, 
                marker:{
                    options:{draggable: true},
                    events:{
                        dragend: function(marker) {
                            var location = marker.getPosition();
                            jQuery("#" + id + '_latitude').val(location.lat());
                            jQuery("#" + id + '_longitude').val(location.lng());
                        }
                    }
                }, 
                map:{center:true}
            };
    }
};

jQuery(document).ready(function() {
    gdCPTMeta.chosen.init();
    gdCPTMeta.meta.init();
    gdCPTMeta.meta_groups.init();
    gdCPTMeta.shortcoder.init();
    gdCPTMeta.tagger.init();
    gdCPTMeta.tinymce.init();
});
